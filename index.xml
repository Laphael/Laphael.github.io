<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>寂静·流年</title><link>https://example.com/</link><description>Recent content on 寂静·流年</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>Example Person</copyright><lastBuildDate>Thu, 12 Oct 2023 17:58:21 +0800</lastBuildDate><atom:link href="https://example.com/index.xml" rel="self" type="application/rss+xml"/><item><title>Debian常用软件清单</title><link>https://example.com/posts/f59f4dff/</link><pubDate>Thu, 12 Oct 2023 17:58:21 +0800</pubDate><guid>https://example.com/posts/f59f4dff/</guid><description>&lt;p>最近在把debian12（LMDE6）当成主力操作系统使用，记录一下必备的软件：&lt;/p>
&lt;ul>
&lt;li>xmind 23.08.02122 字体漂亮、演讲模式非常好用&lt;/li>
&lt;li>davinci resolve 18.6.2 UI缩放正确&lt;/li>
&lt;li>wps 2019 好用&lt;/li>
&lt;li>LX Music 界面漂亮&lt;/li>
&lt;li>typora 0.11.12(beta) 免费&lt;/li>
&lt;li>Koodo Reader 书库管理软件&lt;/li>
&lt;li>Meld 文件比对软件&lt;/li>
&lt;li>visual studio code 主要用它写hugo博客&lt;/li>
&lt;li>dbeaver 还可以吧，比navicat还有差距&lt;/li>
&lt;li>Chrome 对b站弹幕的支持比firefox强&lt;/li>
&lt;li>motrix 下载工具，支持迅雷、bt、磁力&lt;/li>
&lt;li>Obstudio 和win下没区别&lt;/li>
&lt;li>vmware 在debian12下表现非常好，睡眠唤醒后虚拟机没有黑屏、卡死现象&lt;/li>
&lt;/ul>
&lt;p>这些软件能够满足我日常应用场景了&lt;/p></description></item><item><title>Centos7安装mysql 5.7</title><link>https://example.com/posts/7770af61/</link><pubDate>Sun, 17 Sep 2023 09:34:53 +0800</pubDate><guid>https://example.com/posts/7770af61/</guid><description>&lt;h2 id="开放3306端口">开放3306端口&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">firewall-cmd --state
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">firewall-cmd --zone=public --add-port=3306/tcp --permanent
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">firewall-cmd --reload
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="下载mysql官方repo源并安装">下载mysql官方repo源并安装&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">wget http://dev.mysql.com/get/mysql57-community-release-el7-8.noarch.rpm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yum localinstall mysql57-community-release-el7-8.noarch.rpm -y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="导入mysql-repo源的gpg-key">导入mysql repo源的GPG-KEY&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="安装mysql">安装mysql&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yum install mysql-community-server -y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="修改etcmycnf">修改&lt;code>/etc/my.cnf&lt;/code>&lt;/h2>
&lt;p>修改默认字符编码、数据库引擎并禁用密码复杂度验证&lt;/p>
&lt;p>添加下面内容：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[mysql]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">default-character-set=utf8
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[mysqld]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">default-storage-engine=INNODB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">character_set_server=utf8
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">validate_password = off
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>重启mysql&lt;/p>
&lt;h2 id="获取root临时密码">获取root临时密码&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> grep &amp;#39;temporary password&amp;#39; /var/log/mysqld.log
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="登录mysql">登录mysql&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mysql -uroot -p
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>使用临时密码登录后，不能进行其他的操作，否则会报错&lt;/p>
&lt;h2 id="修改root密码">修改root密码&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ALTER USER &amp;#39;root&amp;#39;@&amp;#39;localhost&amp;#39; IDENTIFIED BY &amp;#39;yourpassword&amp;#39;;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>退出mysql并使用新密码重新登录&lt;/p>
&lt;h2 id="授权其它机器远程登录">授权其它机器远程登录&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">GRANT ALL PRIVILEGES ON *.* TO &amp;#39;root&amp;#39;@&amp;#39;%&amp;#39; IDENTIFIED BY &amp;#39;yourpassword&amp;#39; WITH GRANT OPTION;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">FLUSH PRIVILEGES;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="开机自启动">开机自启动&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">systemctl enable mysqld
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl daemon-reload
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="其它设置">其它设置&lt;/h2>
&lt;h3 id="忽略大小写">忽略大小写&lt;/h3>
&lt;p>mysql在Windows上lower_case_table_names默认值为1（不敏感），在macOS上默认值为2（不敏感）。在Linux上不支持值2，服务器强制该值为0（敏感）。&lt;/p>
&lt;p>MySQL官方也提示说：如果在数据目录驻留在不区分大小写的文件系统（例如Windows或macOS）上，则不应将lower_case_table_names设置为0，否则将出现MySQL服务无法启动的问题。&lt;/p>
&lt;p>由于操作系统不同导致大小写敏感的默认设置不一致，因此在开发时一定要养成严格的意识，SQL语句&lt;strong>一律采用小写字母&lt;/strong>，避免无意义的踩坑。&lt;/p>
&lt;p>登陆mysql查看：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mysql&amp;gt; show variables like &amp;#34;%case%&amp;#34;;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+------------------------+-------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| Variable_name | Value |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+------------------------+-------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| lower_case_file_system | OFF |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| lower_case_table_names | 0 | ##0区分 1 不区分
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+------------------------+-------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2 rows in set (0.00 sec)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>修改配置文件 /etc/my.cnf 添加：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># 0：区分大小写，1：不区分大小写
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lower_case_table_names =1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>重启后生效：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">systemctl restart mysqld
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>让windows 10完美支持Intel处理器的大小核调度</title><link>https://example.com/posts/7e5ceabf/</link><pubDate>Fri, 15 Sep 2023 21:25:53 +0800</pubDate><guid>https://example.com/posts/7e5ceabf/</guid><description>&lt;p>实在是不喜欢windows 11的各种设计，但是新买的13700K据说只能在windows 11下才能完美发挥性能。&lt;/p>
&lt;p>有没有让windows 10支持intel 13代cpu大小核调度的方法呢？&lt;/p>
&lt;p>一番搜索，找到了完美的解决方案。&lt;/p>
&lt;p>原文在&lt;a class="link" href="https://www.bilibili.com/video/BV1LK411B7ZS/?spm_id_from=333.1007.top_right_bar_window_default_collection.content.click&amp;amp;vd_source=f58c6359690424b3ca690f7d63a18318" target="_blank" rel="noopener"
>这里&lt;/a>&lt;/p>
&lt;h2 id="打开windows-10电源管理的隐藏功能">打开windows 10电源管理的隐藏功能&lt;/h2>
&lt;p>使用管理员打开&lt;code>powershell&lt;/code>,输入以下命令：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># 处理器性能核心放置最小核心数量 （小核或全部睡眠数量，取决于异类策略）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">powercfg -attributes SUB_PROCESSOR 0cc5b647-c1df-4637-891a-dec35c318583 -ATTRIB_HIDE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#针对第1类处理器电源效率的处理器性能核心放置最小核心数量（大核+超线程睡眠数量百分比）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">powercfg -attributes SUB_PROCESSOR 0cc5b647-c1df-4637-891a-dec35c318584 -ATTRIB_HIDE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#在电源选项中查看：生效的异类策略
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">powercfg -attributes SUB_PROCESSOR 7f2f5cfa-f10c-4823-b5e1-e93ae85f46b5 -ATTRIB_HIDE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#在电源选项中查看：异类线程调度策略
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">powercfg -attributes SUB_PROCESSOR 93b8b6dc-0698-4d1c-9ee4-0644e900c85d -ATTRIB_HIDE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#在电源选项中查看：异类短运行线程调度策略
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">powercfg -attributes SUB_PROCESSOR bae08b81-2d5e-4688-ad6a-13243356654b -ATTRIB_HIDE
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="调整windows-10电源计划设置">调整windows 10电源计划设置&lt;/h2>
&lt;p>做如下设置：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># 台式机推荐的策略（游戏推荐）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">处理器性能放置最小核心数量：100%
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">针对第1类处理器电源效率的处理器性能核心放置最小核心数量：50%（休眠超线程）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">生效的异类策略：使用异类策略1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">异类线程调度策略：首选高性能处理器
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">异类短线程调度策略：首选高性能处理器
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>以上设置是针对台式机的，笔记本电脑另有设置，可查看原文&lt;/p></description></item><item><title>CentOS7设置本地yum源</title><link>https://example.com/posts/30c5c884/</link><pubDate>Sun, 27 Aug 2023 11:22:15 +0800</pubDate><guid>https://example.com/posts/30c5c884/</guid><description>&lt;p>有时会遇到生产环境部署在内网上，无法使用在线yum的情况。&lt;/p>
&lt;p>这时候就需要使用centos的安装镜像，挂载到本地后建立本地yum来安装软件了。&lt;/p>
&lt;p>下面介绍具体方法&lt;/p>
&lt;h2 id="挂载iso镜像文件">挂载ISO镜像文件&lt;/h2>
&lt;ol>
&lt;li>如果使用的是虚拟化平台，已经把ISO镜像文件挂载到虚拟光驱了，则：
&lt;code>mount /dev/cdrom /mnt&lt;/code>&lt;/li>
&lt;li>如果是把ISO文件上传到主机上，比如&lt;code>/home&lt;/code>目录下，则：
&lt;code>mount -o loop /home/CentOS-7-x86_64-DVD-2009.iso /mnt&lt;/code>&lt;/li>
&lt;/ol>
&lt;h2 id="设置本地yum源">设置本地yum源&lt;/h2>
&lt;h3 id="备份系统的repo文件">备份系统的repo文件&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">cd /etc/yum.repos.d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir bak
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mv *.repo ./bak
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="新建本地yum源的repo文件">新建本地yum源的repo文件&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">vi /etc/yum.repos.d/local.repo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>内容如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[base]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">name=CentOS
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">baseurl=file:///mnt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">enabled=1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gpgcheck=0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="清除和建立缓存">清除和建立缓存&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yum clean all
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yum makecache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>在群晖DSM7上安装ResilioSync</title><link>https://example.com/posts/2761c3a7/</link><pubDate>Thu, 24 Aug 2023 17:50:56 +0800</pubDate><guid>https://example.com/posts/2761c3a7/</guid><description>&lt;h2 id="安装">安装&lt;/h2>
&lt;p>在DSM 7的&lt;code>套件中心&lt;/code>里，有官方的resilio sync套件，直接安装即可。&lt;/p>
&lt;h2 id="权限设置">权限设置&lt;/h2>
&lt;p>这里应该是DSM 7上设置resilio sync的难点了。&lt;/p>
&lt;p>如果直接在resilio sync的&lt;code>Web UI&lt;/code>里设置&lt;code>默认文件夹位置&lt;/code>和&lt;code>文件下载位置&lt;/code>,会发现无论选择哪个文件夹，都会提示没有权限。&lt;/p>
&lt;p>这个问题是由于resilio sync的用户权限造成的。&lt;/p>
&lt;p>在DSM 7里，resilio sync创建并使用&lt;code>rslsync&lt;/code>这个用户。因此&lt;code>rslsync&lt;/code>这个用户必须对同步文件夹有读写权限。&lt;/p>
&lt;p>正确的方法是：&lt;/p>
&lt;ol>
&lt;li>打开&lt;code>控制面板&lt;/code>&amp;ndash;&lt;code>共享文件夹&lt;/code>，点击左上角&lt;code>新增&lt;/code>&lt;/li>
&lt;li>新建一个文件夹，假设名字是&lt;code>resiliosync&lt;/code>，根据向导一步步来。&lt;/li>
&lt;li>在&lt;code>配置用户权限&lt;/code>这一步，点击左上角，选择&lt;code>系统内部用户账号&lt;/code>，找到&lt;code>rslsync&lt;/code>，选中&lt;code>可读写&lt;/code>。&lt;/li>
&lt;li>在resilio sync的Web UI里，&lt;code>默认文件夹位置&lt;/code>和&lt;code>文件下载位置&lt;/code>设置为&lt;code>resiliosync&lt;/code>即可。&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://example.com/posts/2761c3a7/resilio-permission.png"
width="1624"
height="1191"
srcset="https://example.com/posts/2761c3a7/resilio-permission_huf966b190293ef16df99abaec0efd0385_126999_480x0_resize_box_3.png 480w, https://example.com/posts/2761c3a7/resilio-permission_huf966b190293ef16df99abaec0efd0385_126999_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="136"
data-flex-basis="327px"
>&lt;/p></description></item><item><title>Dell R730XD风扇调速</title><link>https://example.com/posts/d3869276/</link><pubDate>Sun, 09 Jul 2023 06:58:51 +0800</pubDate><guid>https://example.com/posts/d3869276/</guid><description>&lt;p>虽然Dell R730XD号称静音，但是默认的风扇转速还是让人爱不了。&lt;/p>
&lt;p>但是好在，R730xd是支持风扇调速的，下面是具体方法&lt;/p>
&lt;h2 id="安装ipmitool">安装ipmitool&lt;/h2>
&lt;p>最简单的方法是安装一台linux的虚拟机，例如debian 12,&lt;code>impitool&lt;/code>在很多linux下都在官方的软件仓库里。&lt;/p>
&lt;h2 id="关闭风扇自动调速">关闭风扇自动调速&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ipmitool -I lanplus -H 192.168.1.11 -U username -P passwd raw  0x30 0x30 0x01 0x00
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>192.168.1.11&lt;/code>改为你的R730xd的服务器地址&lt;/li>
&lt;li>&lt;code>username&lt;/code>改为你的iDrac的用户名&lt;/li>
&lt;li>&lt;code>passwd&lt;/code>改为你的iDrac的密码&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>必须&lt;/strong>先做这一步，不然下面的手动设置风扇转速不起作用&lt;/p>
&lt;h2 id="手动设置风扇转速">手动设置风扇转速&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ipmitool -I lanplus -H 192.168.1.11 -U username -P passwd raw 0x30 0x30 0x02 0xff 0x0f
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>上面手动设置的风扇转速为15%。&lt;/p>
&lt;p>我感觉15%是比较合适的，静音又能保障一定的散热能力。&lt;/p></description></item><item><title>Windows下调整GIMP的字体和图标的大小</title><link>https://example.com/posts/9251a95c/</link><pubDate>Mon, 12 Jun 2023 20:18:37 +0800</pubDate><guid>https://example.com/posts/9251a95c/</guid><description>&lt;p>在windows下，4K屏幕上,gimp默认显示的图标和字体太小了,字体也不好看,下面介绍如何调整字体类型和大小,以及图标的大小.&lt;/p>
&lt;p>这里以gimp默认的Dark主题为例,其它主题类似&lt;/p>
&lt;h2 id="调整字体类型和大小">调整字体类型和大小&lt;/h2>
&lt;p>打开&lt;code>C:\Program Files\GIMP 2\share\gimp\2.0\themes\Dark&lt;/code>文件夹,编辑&lt;code>gtkrc&lt;/code>这个文件&lt;/p>
&lt;ol>
&lt;li>找到61行&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">#gtk-font-name = &amp;#34;Sans 11&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>修改成下面的样子:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">gtk-font-name = &amp;#34;Microsoft YaHei UI 12&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>找到68行&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># font_name = &amp;#34;Sans 11&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>修改成下面的样子&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">font_name = &amp;#34;Microsoft YaHei UI 12&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>其中,&lt;code>Microsoft YaHei UI&lt;/code>是字体类型,&lt;code>12&lt;/code>是字体大小
3. 找到115行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> #GimpDock::font-scale = 0.8333
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>修改成下面的样子&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> GimpDock::font-scale = 1.1111
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>其中&lt;code>1.1111&lt;/code>是缩放的比例,根据自己的屏幕实际情况来调整.&lt;/p>
&lt;h2 id="调整图标大小">调整图标大小&lt;/h2>
&lt;p>打开gimp,找到&lt;code>编辑&lt;/code>-&lt;code>首选项&lt;/code>-&lt;code>界面&lt;/code>-&lt;code>图标主题&lt;/code>&lt;/p>
&lt;p>找到下方的&lt;code>通过分辨率猜测图标大小&lt;/code>,修改成&lt;code>自定义图标大小&lt;/code>,然后把下方的滑块拉到最右边&lt;code>巨大&lt;/code>。&lt;/p>
&lt;p>这样图标大小就调整好了。&lt;/p>
&lt;p>以上这些参数都可以根据自己的屏幕大小和个人喜好，随意自己调整。&lt;/p>
&lt;h2 id="实际效果">实际效果&lt;/h2>
&lt;p>下面放一张27寸4K分辨率168%缩放下，使用文中提到的参数的显示效果：
&lt;img src="https://example.com/posts/9251a95c/image.png"
width="2014"
height="1278"
srcset="https://example.com/posts/9251a95c/image_hu4d310c3495e8f9c1e950b11f8dfcee95_241438_480x0_resize_box_3.png 480w, https://example.com/posts/9251a95c/image_hu4d310c3495e8f9c1e950b11f8dfcee95_241438_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Alt text"
class="gallery-image"
data-flex-grow="157"
data-flex-basis="378px"
>&lt;/p></description></item><item><title>Opensuse安装vmware Workstation Pro</title><link>https://example.com/posts/d4ead7a4/</link><pubDate>Wed, 31 May 2023 09:45:23 +0800</pubDate><guid>https://example.com/posts/d4ead7a4/</guid><description>&lt;h2 id="安装相关的系统依赖">安装相关的系统依赖&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo zypper install kernel-source kernel-devel gcc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="开始安装">开始安装&lt;/h2>
&lt;h3 id="添加可执行权限">添加可执行权限&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">chmod +x VMware-Workstation-Full-17.0.2-21581411.x86_64.bundle
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="安装">安装&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo ./VMware-Workstation-Full-17.0.2-21581411.x86_64.bundle
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Linux下设置ResilioSync</title><link>https://example.com/posts/821e7658/</link><pubDate>Sun, 28 May 2023 23:39:06 +0800</pubDate><guid>https://example.com/posts/821e7658/</guid><description>&lt;p>Resilio Sync在linux下的安装方式就不讲了，官方提供了大量发行版的安装包，根据自己的linux发行版下载安装即可。&lt;/p>
&lt;h2 id="管理界面">管理界面&lt;/h2>
&lt;p>linux下，Resilio Sync必须使用web界面来进行管理，地址是: &lt;a class="link" href="https://localhost:8888/gui/" target="_blank" rel="noopener"
>https://localhost:8888/gui/&lt;/a>&lt;/p>
&lt;p>首次登录时，会要求你进行注册。&lt;strong>注意&lt;/strong>：在注册时，只需要填写用户名即可，&lt;strong>不必&lt;/strong>填写密码。&lt;/p>
&lt;h2 id="用户和权限问题">用户和权限问题&lt;/h2>
&lt;p>默认情况下，Resilio Sync会新建一个名为&lt;code>rslsync&lt;/code>的用户，来进行相关的同步和管理。&lt;/p>
&lt;p>这种方式很不友好，因为在同步的时候，只能同步到&lt;code>rslsync&lt;/code>这个用户权限的文件夹里。&lt;/p>
&lt;p>虽然官方提供了方法来使用当前用户进行同步，但是在实际操作过程中还是有问题。&lt;/p>
&lt;p>因此，还是推荐使用另一种官方提供的方法&lt;/p>
&lt;h2 id="使用当前用户来启动和管理resilio-sync">使用当前用户来启动和管理Resilio Sync&lt;/h2>
&lt;h3 id="修改resilio服务">修改resilio服务&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo vi /usr/lib/systemd/user/resilio-sync.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>找到：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">WantedBy=multi-user.target
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>修改成：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">WantedBy=default.target
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="使用当前用户自动启动服务">使用当前用户自动启动服务&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">systemctl --user enable resilio-sync
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>上面的命令，&lt;strong>不要&lt;/strong>使用&lt;code>sudo&lt;/code>来执行。&lt;/p></description></item><item><title>Windows10关闭系统保留的7G空间</title><link>https://example.com/posts/7a83bb33/</link><pubDate>Sun, 07 May 2023 21:36:03 +0800</pubDate><guid>https://example.com/posts/7a83bb33/</guid><description>&lt;p>从windows 10 1903版本开始，微软为win10默认保留了大约7G左右的系统空间，用于防止因存储空间不足导致的更新失败问题。&lt;/p>
&lt;p>通过下面几个命令，可以将这保留的7G空间释放出来：&lt;/p>
&lt;p>以管理员打开powershell:&lt;/p>
&lt;h2 id="一键入下条命令即可关闭立即生效">一、键入下条命令即可关闭，立即生效&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">DISM.exe /Online /Set-ReservedStorageState /State:Disabled
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="二键入下条命令即可启用立即生效">二、键入下条命令即可启用，立即生效&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">DISM.exe /Online /Set-ReservedStorageState /State:Enabled
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="三查看当前保留空间的状态">三、查看当前保留空间的状态&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">DISM.exe /Online /Get-ReservedStorageState
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>使用命令行删除windows Defender</title><link>https://example.com/posts/dfbed6b5/</link><pubDate>Thu, 16 Mar 2023 07:13:48 +0800</pubDate><guid>https://example.com/posts/dfbed6b5/</guid><description>&lt;p>在使用windows server的时候，可以使用命令行来删除windows defender.&lt;/p>
&lt;h2 id="卸载-windows-server-2016-或-windows-server-2019-上的-microsoft-defender-防病毒">卸载 Windows Server 2016 或 Windows Server 2019 上的 Microsoft Defender 防病毒&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Uninstall-WindowsFeature -Name Windows-Defender
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="关闭-microsoft-defender-防病毒-gui">关闭 Microsoft Defender 防病毒 GUI&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Uninstall-WindowsFeature -Name Windows-Defender-GUI
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>注意，上面这条关闭GUI的命令，在windows server 2022下无效。&lt;/p></description></item><item><title>AlmaLinux9安装xrdp远程桌面</title><link>https://example.com/posts/9d4c89b2/</link><pubDate>Sun, 05 Mar 2023 18:11:20 +0800</pubDate><guid>https://example.com/posts/9d4c89b2/</guid><description>&lt;blockquote>
&lt;blockquote>
&lt;blockquote>
&lt;p>系统是almalinux 9.0,桌面是gnome。&lt;/p>
&lt;/blockquote>
&lt;/blockquote>
&lt;/blockquote>
&lt;h2 id="启用epel-release">启用epel-release&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo dnf in epel-release
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo dnf up -y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="安装xrdp">安装xrdp&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo dnf in xrdp -y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="配置文件">配置文件&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo vi ~/.xinitrc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>添加下面内容：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">exec /usr/bin/gnome-session
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="启动xrdp服务">启动xrdp服务&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo systemctl start xrdp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl enable xrdp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="添加防火墙例外">添加防火墙例外&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">firewall-cmd --zone=public --permanent --add-port=3389/tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">firewall-cmd --reload
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="客户端">客户端&lt;/h2>
&lt;p>在linux下，推荐使用&lt;code>remmina&lt;/code>来连接远程桌面。&lt;code>remmina&lt;/code>具备保存会话、用户名、密码和自动调整分辨率等功能，值得尝试&lt;/p>
&lt;h2 id="排错">排错&lt;/h2>
&lt;p>现象：能够成功登录，但是登录后却是黑屏
解决：很大可能是没有退出远程机器的登录界面导致的。&lt;/p>
&lt;p>如果是非服务器版本的windows，通过远程桌面登录后，会自动注销当前正在登录的用户。&lt;/p>
&lt;p>Linux下没有这个功能，需要手动退出所有当前在图形界面下的登录，然后才能正常使用xrdp登录。&lt;/p></description></item><item><title>Ubuntu禁用错误报告</title><link>https://example.com/posts/4ba43e1c/</link><pubDate>Sun, 05 Mar 2023 08:28:49 +0800</pubDate><guid>https://example.com/posts/4ba43e1c/</guid><description>&lt;p>Ubuntu在日常使用时，经常会弹出一个错误报告窗口，提示你“XXX已经崩溃，是否发送错误信息”之类的内容。&lt;/p>
&lt;p>这个挺烦人的，毕竟在windows下我也从来没发送过系统错误报告。&lt;/p>
&lt;p>出现这个弹窗，是因为ubuntu默认安装并启用了&lt;code>Appport&lt;/code>这个服务。如果不想提示错误汇报，禁用这个软件就可以解决了。&lt;/p>
&lt;ol>
&lt;li>编辑Apport配置文件&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo vi /etc/default/apport
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>修改配置&lt;/li>
&lt;/ol>
&lt;p>把&lt;code>enabled=1&lt;/code>改成&lt;code>enabled=0&lt;/code>&lt;/p>
&lt;p>重启生效。&lt;/p></description></item><item><title>Git日常使用总结</title><link>https://example.com/posts/8d738bf7/</link><pubDate>Sat, 25 Feb 2023 09:24:18 +0800</pubDate><guid>https://example.com/posts/8d738bf7/</guid><description>&lt;p>本文用来记录在日常使用 Git 中学到的一些知识点，不定时更新。&lt;/p>
&lt;h2 id="常规设置">常规设置&lt;/h2>
&lt;h3 id="设置-git-账号的邮箱和用户名">设置 Git 账号的邮箱和用户名&lt;/h3>
&lt;p>这是使用 Git 的第一步，如果没有设置，根本用不了 Git。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git config --global user.email &amp;#34;you@example.com&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git config --global user.name &amp;#34;Your Name&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="生成-ssh-密钥">生成 SSH 密钥&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ssh-keygen -t rsa -b 4096 -C &amp;#34;your_email@example.com&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="git-子模块操作">Git 子模块操作&lt;/h2>
&lt;h3 id="git-克隆含有子模块的仓库">Git 克隆含有子模块的仓库&lt;/h3>
&lt;p>如果一个 Git 仓库含有子模块（submodule），现在想要在克隆主仓库的时候，想要一并克隆子模块，则在&lt;code>git clone&lt;/code>命令加上&lt;code>--recursive&lt;/code>参数即可。例如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git clone --recursive https://github.com/chaconinc/MainProject
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="子模块更新之后同步操作">子模块更新之后同步操作&lt;/h3>
&lt;p>如果更新了 &lt;code>submodule&lt;/code>，然后更新了父项目中依赖的版本号,则在同步的时候,需要在 &lt;code>git pull&lt;/code>之后，调用&lt;code>git submodule update&lt;/code>来更新&lt;code>submodule&lt;/code>信息。&lt;/p>
&lt;p>如果在&lt;code>git pull&lt;/code>之后，忘记了调用&lt;code>git submodule update&lt;/code>，那么极有可能再次把旧的 &lt;code>submodule&lt;/code> 依赖信息提交上去。&lt;/p>
&lt;p>因此,正确的同步子模块的步骤是:&lt;/p>
&lt;ol>
&lt;li>在父目录执行&lt;code>git pull&lt;/code>&lt;/li>
&lt;li>执行&lt;code>git status&lt;/code>，查看子模块是否有修改&lt;/li>
&lt;li>执行&lt;code>git submodule update&lt;/code>，来更新子模块。&lt;/li>
&lt;/ol>
&lt;h3 id="子模块修改和提交">子模块修改和提交&lt;/h3>
&lt;p>默认情况下，&lt;code>git submodule update&lt;/code> 并不会将 &lt;code>submodule&lt;/code> 切到任何 &lt;code>branch&lt;/code>，因此 &lt;code>submodule&lt;/code> 的 &lt;code>HEAD&lt;/code> 是处于游离状态的 (‘detached HEAD’ state)。&lt;/p>
&lt;p>所以在修改前，记得一定要用 &lt;code>git checkout master&lt;/code> 将当前的&lt;code>submodule&lt;/code>分支切换到 &lt;code>master&lt;/code>，然后才能做修改和提交。&lt;/p>
&lt;p>因此，正确的修改和提交流程是：&lt;/p>
&lt;ol>
&lt;li>对 submodule 做一些修改&lt;/li>
&lt;li>切到 submodule 的目录&lt;/li>
&lt;li>执行git checkout master&lt;/li>
&lt;li>执行 commit 和 push 命令。&lt;/li>
&lt;/ol></description></item><item><title>在Ubuntu22.04上安装KVM虚拟化软件</title><link>https://example.com/posts/f949f020/</link><pubDate>Sat, 25 Feb 2023 08:52:31 +0800</pubDate><guid>https://example.com/posts/f949f020/</guid><description>&lt;blockquote>
&lt;p>网上文章千千万，最后还得自己实践一遍&lt;/p>
&lt;/blockquote>
&lt;p>本文是亲自验证过可行的，系统是Ubuntu 22.04.1。&lt;/p>
&lt;p>在行文时特意针对第一次接触kvm的人做了一些解释（其实也是写给自己看的，相当于注释了）。&lt;/p>
&lt;h2 id="更新系统">更新系统&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo apt update &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> sudo apt upgrade
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="检查主机是否支持kvm虚拟化">检查主机是否支持KVM虚拟化&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">egrep -c &lt;span class="s1">&amp;#39;(vmx|svm)&amp;#39;&lt;/span> /proc/cpuinfo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>上面命令的意思是，统计&lt;code>/proc/cpuinfo&lt;/code>输出中出现&lt;code>vmx&lt;/code>或者&lt;code>svm&lt;/code>的次数。&lt;/p>
&lt;p>如果不为0,则表示主机支持KVM虚拟化。&lt;/p>
&lt;p>所以说，只要数字不为0就可以了。如果是0的话，说明你的电脑不支持KVM虚拟化功能，下面的内容也不用再看了。&lt;/p>
&lt;h2 id="安装kvm虚拟化软件">安装KVM虚拟化软件&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo apt install qemu-kvm virt-manager libvirt-daemon-system virtinst libvirt-clients bridge-utils
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>上面&lt;code>virt-manager&lt;/code>软件是一个kvm前端图形界面，用来创建和管理虚拟机很方便。当然也有别的选择。&lt;/p>
&lt;h2 id="启动libvirtd服务">启动libvirtd服务&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo systemctl start libvirtd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl start libvirtd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="把当前用户加入到kvm和libvirt组">把当前用户加入到kvm和libvirt组&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo usermod -aG kvm &lt;span class="nv">$USER&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo usermod -aG libvirt &lt;span class="nv">$USER&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="创建一个网桥">创建一个网桥&lt;/h2>
&lt;p>用于kvm虚拟机进行网络连接
新建一个配置文件&lt;code>01-netcfg.yaml&lt;/code>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo vi /etc/netplan/01-netcfg.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>内容如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">network:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ethernets:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> eno1:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> dhcp4: false
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> dhcp6: false
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> bridges:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> br0:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> interfaces: [eno1]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> dhcp4: false
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> addresses: [192.168.8.33/24]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> macaddress: 18:c0:4d:2c:0d:09
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> routes:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - to: default
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> via: 192.168.8.252
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> metric: 100
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nameservers:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> addresses: [192.168.8.252]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> parameters:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> stp: false
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> dhcp6: false
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> version: 2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>应用配置文件：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo netplan apply
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>上面的配置文件有几点注意事项：&lt;/p>
&lt;ol>
&lt;li>格式必须完全一样，连缩进的空格也不能错。&lt;/li>
&lt;li>&lt;code>eno1&lt;/code>是我的网卡的名称，这里需要改成你自己的网卡的名字
可以用&lt;code>ip a&lt;/code>查看你自己的网卡的名称。&lt;/li>
&lt;li>&lt;code>addresses&lt;/code>、&lt;code>macaddress&lt;/code>、&lt;code>nameservers&lt;/code>和&lt;code>routers&lt;/code>里的路由要根据实际情况改成你自己的。&lt;/li>
&lt;li>执行成功后，使用&lt;code>ip a&lt;/code>查看会多出一个&lt;code>br0&lt;/code>设备，同时原来的网卡，比如&lt;code>eno1&lt;/code>会失去IP地址。这都是正常的，牵涉到一些网络知识，这里不再多说。&lt;/li>
&lt;/ol></description></item><item><title>解决openwrt软路由下两个客户端不通的问题</title><link>https://example.com/posts/cc8c44d2/</link><pubDate>Fri, 17 Feb 2023 19:30:32 +0800</pubDate><guid>https://example.com/posts/cc8c44d2/</guid><description>&lt;blockquote>
&lt;p>前段时间把家庭网络改造了一下:&lt;/p>
&lt;/blockquote>
&lt;ol>
&lt;li>自己编译了openwrt软路由&lt;/li>
&lt;li>一直以来的&lt;code>ikuai&lt;/code>+&lt;code>openwrt旁路由&lt;/code>模式，改成了只使用1个openwrt主路由，&lt;/li>
&lt;/ol>
&lt;h2 id="问题">问题&lt;/h2>
&lt;p>改造完后,所有功能一切正常,唯独本地的两个主机:电脑和NAS之间不能使用&lt;code>zerotier&lt;/code>互通了，而本地电脑连接到外网的moon服务器和连接到zerotier账户一切正常。&lt;/p>
&lt;h2 id="过程">过程&lt;/h2>
&lt;p>在网上找解决方案，发现都是在&lt;code>openwrt&lt;/code>上安装&lt;code>zerotier&lt;/code>的互通解决方案。&lt;/p>
&lt;p>而我的需求不同。我没有在&lt;code>openwrt&lt;/code>上安装&lt;code>zerotier&lt;/code>，只是希望&lt;code>openwrt&lt;/code>下的客户端能够互通。&lt;/p>
&lt;p>所有网上的解决方案对我来说都没有用。&lt;/p>
&lt;h2 id="解决方法">解决方法&lt;/h2>
&lt;p>解决方法非常简单，在&lt;code>openwrt&lt;/code>-防火墙下，把&lt;code>启用FullCone-NAT&lt;/code>从&lt;code>高性能模式&lt;/code>改成&lt;code>兼容模式&lt;/code>就可以了。
&lt;img src="https://example.com/posts/cc8c44d2/openwrt-firewall-set.png"
width="1555"
height="544"
srcset="https://example.com/posts/cc8c44d2/openwrt-firewall-set_hu9dd040f9ab7836b96791aa046546d2c7_768923_480x0_resize_box_3.png 480w, https://example.com/posts/cc8c44d2/openwrt-firewall-set_hu9dd040f9ab7836b96791aa046546d2c7_768923_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="285"
data-flex-basis="686px"
>&lt;/p>
&lt;p>原理我不清楚，怀疑是&lt;code>FullCone-NA&lt;/code>兼容性的问题。&lt;/p></description></item><item><title>Gnome调整鼠标指针大小</title><link>https://example.com/posts/f55580eb/</link><pubDate>Thu, 19 Jan 2023 09:45:28 +0800</pubDate><guid>https://example.com/posts/f55580eb/</guid><description>&lt;p>gnome如果调整了缩放，鼠标指针的大小不会跟着变，需要自定义大小。&lt;/p>
&lt;p>运行下面的命令即可调整鼠标指针大小:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">dconf write /org/gnome/desktop/interface/cursor-size 40
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>缩放150%的话，调整到大小&lt;code>40&lt;/code>比较合适。&lt;/p></description></item><item><title>使用Hugo搭建个人网站(七)-Hugo和Github Action正确修改文章的最后更新日期</title><link>https://example.com/posts/146871a6/</link><pubDate>Sat, 14 Jan 2023 12:15:00 +0800</pubDate><guid>https://example.com/posts/146871a6/</guid><description>&lt;p>偏向技术或者工具使用方面的博客，难免会随着时间和技术的更新，对文章进行一些修改。&lt;/p>
&lt;p>使用hugo一年多以来，一直有一个问题没有解决，就是文章修改后不能正确的显示修改后的时间，即更新时间。&lt;/p>
&lt;p>今天又想起这个长期以来的&amp;quot;bug&amp;quot;，这次终于彻底解决了。&lt;/p>
&lt;h2 id="修改网站配置文件">修改网站配置文件&lt;/h2>
&lt;p>在网站的配置文件 &lt;code>config.toml&lt;/code>里添加如下字段:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">frontmatter&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lastmod&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;:git&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;lastmod&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;:fileModTime&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>另外，还需要启用&lt;code>GitInfo&lt;/code>功能：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">enableGitInfo&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="修改github-action-配置文件">修改Github Action 配置文件&lt;/h2>
&lt;p>完整的配置文件看&lt;a class="link" href="https://dnwzlx.com/posts/95a48970/#%E7%BD%91%E7%AB%99%E8%AE%BE%E7%BD%AE" target="_blank" rel="noopener"
>这里&lt;/a>&lt;/p>
&lt;p>需要注意其中的这些配置：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">-&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="err">:&lt;/span> &lt;span class="nx">Checkout&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">uses&lt;/span>&lt;span class="err">:&lt;/span> &lt;span class="nx">actions&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="nx">checkout&lt;/span>&lt;span class="err">@&lt;/span>&lt;span class="nx">v3&lt;/span> &lt;span class="c"># 引用actions/checkout这个action，与所在的github仓库同名&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">with&lt;/span>&lt;span class="err">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">submodules&lt;/span>&lt;span class="err">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="c"># Fetch Hugo themes (true OR recursive) 获取submodule主题&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fetch-depth&lt;/span>&lt;span class="err">:&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="c"># Fetch all history for .GitInfo and .Lastmod&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">-&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="err">:&lt;/span> &lt;span class="nx">Disable&lt;/span> &lt;span class="nx">quotePath&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">run&lt;/span>&lt;span class="err">:&lt;/span> &lt;span class="nx">git&lt;/span> &lt;span class="nx">config&lt;/span> &lt;span class="nx">--global&lt;/span> &lt;span class="nx">core&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">quotePath&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="fetch-depth-0">fetch-depth: 0&lt;/h3>
&lt;p>&lt;code>fetch-depth&lt;/code> 的默认值是 1，也就是说它默认只会拉取分支最近的一次 commit，这可能会导致一些文章的 &lt;code>GitInfo&lt;/code> 变量无法获取到。&lt;/p>
&lt;p>设置为 0 代表拉取所有分支的所有提交。&lt;/p>
&lt;h3 id="disable-quotepath">Disable quotePath&lt;/h3>
&lt;p>原理是这样的：默认情况下，当文件名中包含中文的时候，git 会使用引号&lt;code>&amp;quot; &amp;quot;&lt;/code>把文件名括起来。&lt;/p>
&lt;p>但是这会导致 action 中无法读取 &lt;code>:GitInfo&lt;/code> 变量，所以这里需要关闭&lt;code>quotePath&lt;/code>功能。&lt;/p>
&lt;p>这样就可以正确显示文章最后更新时间了，问题解决。&lt;/p></description></item><item><title>KDE播放Samba共享里的视频文件</title><link>https://example.com/posts/0ce4c4b3/</link><pubDate>Fri, 13 Jan 2023 13:10:42 +0800</pubDate><guid>https://example.com/posts/0ce4c4b3/</guid><description>&lt;h2 id="问题描述">问题描述&lt;/h2>
&lt;p>使用&lt;code>debian 11 &lt;/code>+ &lt;code>KDE&lt;/code> 桌面，通过samba协议连接到NAS后，发现无法播放NAS上的视频文件。&lt;/p>
&lt;h2 id="解决方法">解决方法&lt;/h2>
&lt;p>安装&lt;code>kio-fuse&lt;/code>即可&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo apt install kio-fuse
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>debian确实是稳定，在chrome和nvidia驱动方面非常出色，不比windows差，但是在一些小的易用性方面，还是有坑&lt;/p></description></item><item><title>Wsl和vmware共存的问题</title><link>https://example.com/posts/9c090dd7/</link><pubDate>Wed, 04 Jan 2023 11:32:30 +0800</pubDate><guid>https://example.com/posts/9c090dd7/</guid><description>&lt;p>、&lt;/p>
&lt;h2 id="问题描述">问题描述&lt;/h2>
&lt;p>近期在使用wsl2和vmware时遇到了一些问题&lt;/p>
&lt;p>如果要使用wsl2，则必须要在&lt;code>windows功能&lt;/code>里开启&lt;code>虚拟机平台&lt;/code>。&lt;/p>
&lt;p>但是开启&lt;code>虚拟机平台&lt;/code>后，打开vmware、virtualBox等虚拟机时会提示&lt;/p>
&lt;ul>
&lt;li>VMware Workstation与Device/Credential Guard不兼容&lt;/li>
&lt;li>VT不支持、&lt;/li>
&lt;li>该主机cpu类型不支持虚拟化性能计数器，开启模块VPMC的操作失败，未能启动虚拟机&lt;/li>
&lt;/ul>
&lt;p>等等错误。&lt;/p>
&lt;h2 id="解决方法">解决方法&lt;/h2>
&lt;p>解决方案很简单，就是把&lt;code>wsl2&lt;/code>降为&lt;code>wsl1&lt;/code>。&lt;/p>
&lt;p>具体方法如下：&lt;/p>
&lt;h3 id="1转换已经有的虚拟机">1.转换已经有的虚拟机&lt;/h3>
&lt;p>比如我现在的&lt;code>kali-linux&lt;/code>虚拟机使用的是&lt;code>wsl2&lt;/code>，想降为&lt;code>wsl1&lt;/code>，则：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">wsl --set-version kali-linux 1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="2删除虚拟机平台">2.删除&lt;code>虚拟机平台&lt;/code>&lt;/h3>
&lt;p>管理员权限打开&lt;code>powershell&lt;/code>，输入：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Disable-WindowsOptionalFeature -Online -FeatureName VirtualMachinePlatform
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>重启电脑。&lt;/p></description></item><item><title>Windows Terminal打开wsl报错的解决方法</title><link>https://example.com/posts/35265d36/</link><pubDate>Mon, 02 Jan 2023 10:02:58 +0800</pubDate><guid>https://example.com/posts/35265d36/</guid><description>&lt;h2 id="问题描述">问题描述&lt;/h2>
&lt;p>使用wsl安装完kali-linux后，从windows terminal下启动，报如下错误：
&lt;img src="https://example.com/posts/35265d36/wsl-error.png"
width="674"
height="229"
srcset="https://example.com/posts/35265d36/wsl-error_hub5ae49d2a552c7df07f2cf0a6ee3b2c3_9916_480x0_resize_box_3.png 480w, https://example.com/posts/35265d36/wsl-error_hub5ae49d2a552c7df07f2cf0a6ee3b2c3_9916_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="294"
data-flex-basis="706px"
>&lt;/p>
&lt;h2 id="解决方法">解决方法&lt;/h2>
&lt;p>打开windows terminal的kali-linux配置,修改启动的命令为&lt;code>wsl.exe ~ -d kali-linux&lt;/code>，即中间添加一个&lt;code>~&lt;/code>即可。
&lt;img src="https://example.com/posts/35265d36/setting.png"
width="754"
height="534"
srcset="https://example.com/posts/35265d36/setting_huf19382c2b8499f6e92dc96abd6dda0e4_30897_480x0_resize_box_3.png 480w, https://example.com/posts/35265d36/setting_huf19382c2b8499f6e92dc96abd6dda0e4_30897_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="338px"
>&lt;/p></description></item><item><title>Windows Terminal添加到右键菜单</title><link>https://example.com/posts/6ef25004/</link><pubDate>Sun, 01 Jan 2023 09:10:24 +0800</pubDate><guid>https://example.com/posts/6ef25004/</guid><description>&lt;h2 id="下载windows-terminal的图标">下载&lt;code>windows terminal&lt;/code>的图标&lt;/h2>
&lt;p>在&lt;a class="link" href="https://github.com/microsoft/terminal/tree/main/res" target="_blank" rel="noopener"
>这里&lt;/a>下载。&lt;/p>
&lt;h2 id="创建文件夹">创建文件夹&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mkdir &amp;#34;%USERPROFILE%\AppData\Local\terminal&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>把下载的图标放到新创建的&lt;code>terminal&lt;/code>文件夹里。&lt;/p>
&lt;h2 id="写入注册表">写入注册表&lt;/h2>
&lt;p>新建一个注册表文件，内容如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Windows Registry Editor Version 5.00
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[HKEY_CLASSES_ROOT\Directory\background\shell\在此处打开Windows Terminal]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34;Icon&amp;#34;=&amp;#34;%USERPROFILE%\\AppData\\Local\\terminal\\terminal.ico&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[HKEY_CLASSES_ROOT\Directory\background\shell\在此处打开Windows Terminal\command]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">@=&amp;#34;wt -d \&amp;#34;%V\&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>双击导入注册表即可。&lt;/p>
&lt;h2 id="修改启动文件夹">修改启动文件夹&lt;/h2>
&lt;p>打开&lt;code>windows terminal&lt;/code>的&lt;code>.json&lt;/code>配置文件，找到如下位置并修改：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;#34;profiles&amp;#34;:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;defaults&amp;#34;: {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;startingDirectory&amp;#34;: null
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> },
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>&amp;quot;startingDirectory&amp;quot;: null&lt;/code>这一行是新添加的。&lt;/p>
&lt;p>完工。&lt;/p></description></item><item><title>修改Conda默认启动的Python环境</title><link>https://example.com/posts/0cab458e/</link><pubDate>Sun, 01 Jan 2023 06:59:55 +0800</pubDate><guid>https://example.com/posts/0cab458e/</guid><description>&lt;h2 id="问题描述">问题描述&lt;/h2>
&lt;p>安装完 Conda 之后，开启终端将默认进入 &lt;code>base&lt;/code> 环境。&lt;/p>
&lt;p>但是，&lt;code>base&lt;/code> 经常不是我们所需要的环境。因此，每次进入终端都得 &lt;code>conda activate&lt;/code> 到想要的环境，很麻烦。&lt;/p>
&lt;h2 id="解决方法">解决方法&lt;/h2>
&lt;p>假如想让&lt;code>conda&lt;/code>默认启动&lt;code>py3s&lt;/code>这个python环境&lt;/p>
&lt;h3 id="linux">Linux&lt;/h3>
&lt;p>在&lt;code>shell&lt;/code>的配置文件最后，添加&lt;code>source activate py3s&lt;/code>&lt;/p>
&lt;p>例如&lt;code>zsh&lt;/code>，则&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">cd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vi .zshrc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在最后添加&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">source activate py3s
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="windows">windows&lt;/h3>
&lt;p>打开&lt;code>powershell&lt;/code>
运行命令：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">notepad $PROFILE
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果提示不存在则新建即可。&lt;/p>
&lt;p>在 &lt;code>Profile&lt;/code> 文件中增加:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">conda activate py3s
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Linux下安装utools</title><link>https://example.com/posts/e1bbdf98/</link><pubDate>Thu, 29 Dec 2022 08:03:18 +0800</pubDate><guid>https://example.com/posts/e1bbdf98/</guid><description>&lt;p>&lt;code>utools&lt;/code>是个快速启动工具，支持mac、win、linux三大平台，自带丰富的插件。&lt;/p>
&lt;p>本人安装utools主要是为了它的词典插件，用来查词非常方便。&lt;/p>
&lt;p>最新的3.3版本，在kali linux下可以正常安装，但是启动时却报错：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Uncaught Exception:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Error: libcrypto.so.1.1:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>可以看出来，是&lt;code>libcrypto.so.1.1&lt;/code>的问题。&lt;/p>
&lt;p>在网上找了个最简单的解决方法，就是使用其它软件自带的&lt;code>libcrypto.so.1.1&lt;/code>，比如&lt;code>wps&lt;/code>的。&lt;/p>
&lt;p>首先安装wps，然后查看&lt;code>libcrypto.so&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">dpkg -S libcrypto.so
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>输出如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sublime-text: /opt/sublime_text/libcrypto.so.1.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wps-office: /opt/kingsoft/wps-office/office6/libcrypto.so
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wps-office: /opt/kingsoft/wps-office/office6/libcrypto.so.1.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">libssl3:amd64: /usr/lib/x86_64-linux-gnu/libcrypto.so.3
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>可以看到，我安装的&lt;code>sublime-text&lt;/code>和&lt;code>wps&lt;/code>都带有&lt;code>libcrypto.so.1.1&lt;/code>，这里使用&lt;code>wps&lt;/code>的。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo cp /opt/kingsoft/wps-office/office6/libcrypto.so.1.1 /opt/uTools/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>即可正常运行&lt;code>utools&lt;/code>了。&lt;/p></description></item><item><title>导出微软日历的方法</title><link>https://example.com/posts/3553344e/</link><pubDate>Tue, 27 Dec 2022 05:25:49 +0800</pubDate><guid>https://example.com/posts/3553344e/</guid><description>&lt;blockquote>
&lt;blockquote>
&lt;blockquote>
&lt;p>导出为ics格式&lt;/p>
&lt;/blockquote>
&lt;/blockquote>
&lt;/blockquote>
&lt;p>1、打开outlook，选中需要导出的日历&lt;/p>
&lt;p>&lt;img src="https://example.com/posts/3553344e/%E9%80%89%E6%8B%A9%E6%97%A5%E5%8E%86.png"
width="330"
height="338"
srcset="https://example.com/posts/3553344e/%E9%80%89%E6%8B%A9%E6%97%A5%E5%8E%86_huaf428dfaf1dbaea30f779e9029ad2178_9358_480x0_resize_box_3.png 480w, https://example.com/posts/3553344e/%E9%80%89%E6%8B%A9%E6%97%A5%E5%8E%86_huaf428dfaf1dbaea30f779e9029ad2178_9358_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="97"
data-flex-basis="234px"
>&lt;/p>
&lt;p>2、点击左上角文件&amp;ndash;保存日历&lt;/p>
&lt;p>&lt;img src="https://example.com/posts/3553344e/%E4%BF%9D%E5%AD%98%E6%97%A5%E5%8E%86.png"
width="341"
height="547"
srcset="https://example.com/posts/3553344e/%E4%BF%9D%E5%AD%98%E6%97%A5%E5%8E%86_hud1ca1759b2adf90a89c2167d10b69d2f_14457_480x0_resize_box_3.png 480w, https://example.com/posts/3553344e/%E4%BF%9D%E5%AD%98%E6%97%A5%E5%8E%86_hud1ca1759b2adf90a89c2167d10b69d2f_14457_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="62"
data-flex-basis="149px"
>&lt;/p>
&lt;p>3、弹出的对话框中，点击&lt;code>其它选项&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://example.com/posts/3553344e/%E5%AF%BC%E5%87%BA%E8%AE%BE%E7%BD%AE1.png"
width="989"
height="323"
srcset="https://example.com/posts/3553344e/%E5%AF%BC%E5%87%BA%E8%AE%BE%E7%BD%AE1_hu360c93cf0e355d0fcca25d9c3abd5b4f_13051_480x0_resize_box_3.png 480w, https://example.com/posts/3553344e/%E5%AF%BC%E5%87%BA%E8%AE%BE%E7%BD%AE1_hu360c93cf0e355d0fcca25d9c3abd5b4f_13051_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="306"
data-flex-basis="734px"
>&lt;/p>
&lt;p>4、按照下图中的选项来选择，然后点击&lt;code>确定&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://example.com/posts/3553344e/%E5%AF%BC%E5%87%BA%E8%AE%BE%E7%BD%AE2.png"
width="891"
height="551"
srcset="https://example.com/posts/3553344e/%E5%AF%BC%E5%87%BA%E8%AE%BE%E7%BD%AE2_hu97b1248a99bc1be4fe4cc1a72b15fb19_29748_480x0_resize_box_3.png 480w, https://example.com/posts/3553344e/%E5%AF%BC%E5%87%BA%E8%AE%BE%E7%BD%AE2_hu97b1248a99bc1be4fe4cc1a72b15fb19_29748_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="161"
data-flex-basis="388px"
>&lt;/p>
&lt;p>5、点击保存，即可导出为ics格式的日历&lt;/p>
&lt;p>6、重复第一项，导出其他的日历&lt;/p>
&lt;p>注意，每一次只能导出一个日历&lt;/p></description></item><item><title>Pycharm的基本设置</title><link>https://example.com/posts/05159db4/</link><pubDate>Sat, 24 Dec 2022 08:09:17 +0800</pubDate><guid>https://example.com/posts/05159db4/</guid><description>&lt;h2 id="设置自动换行折行">设置自动换行/折行&lt;/h2>
&lt;p>按&lt;code>ctrl&lt;/code>+&lt;code>alt&lt;/code>+&lt;code>s&lt;/code>,打开设置&lt;/p>
&lt;p>在左上角搜索框中输入&lt;code>soft-wraps&lt;/code>，打到editor-General,勾选&lt;code>soft-wrap these files&lt;/code>,然后在最后添加&lt;code>; *.py&lt;/code>。
&lt;img src="https://example.com/posts/05159db4/pycharm-softwrap.png"
width="1229"
height="505"
srcset="https://example.com/posts/05159db4/pycharm-softwrap_hu8c353ee3e59eabe961f3994ccc17fcd6_50155_480x0_resize_box_3.png 480w, https://example.com/posts/05159db4/pycharm-softwrap_hu8c353ee3e59eabe961f3994ccc17fcd6_50155_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="243"
data-flex-basis="584px"
>&lt;/p>
&lt;p>找到editor-General-Console,勾选&lt;code>Use soft wraps in console&lt;/code>,启用控制台的自动折行功能
&lt;img src="https://example.com/posts/05159db4/pycharm-softwrap2.png"
width="742"
height="372"
srcset="https://example.com/posts/05159db4/pycharm-softwrap2_hu09c09b42a52a5d7ec573683f6308f4fd_33999_480x0_resize_box_3.png 480w, https://example.com/posts/05159db4/pycharm-softwrap2_hu09c09b42a52a5d7ec573683f6308f4fd_33999_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="199"
data-flex-basis="478px"
>&lt;/p>
&lt;h2 id="行号栏过宽">行号栏过宽&lt;/h2>
&lt;p>按&lt;code>ctrl&lt;/code>+&lt;code>alt&lt;/code>+&lt;code>s&lt;/code>,打开设置&lt;/p>
&lt;p>在左上角搜索框中输入&lt;code>show gutter icons&lt;/code>，然后&lt;strong>取消勾选&lt;/strong>&lt;code>show gutter icons&lt;/code>即可。&lt;/p>
&lt;h2 id="跳出成对的括号">跳出成对的括号&lt;/h2>
&lt;p>在输入&lt;code>' '&lt;/code>、&lt;code>&amp;quot; &amp;quot;&lt;/code>、&lt;code>()&lt;/code>等成对的括号后，如果想跳出当前括号，可以再按一下当前的括号即可跳出括号。&lt;/p>
&lt;p>例如输入&lt;code>''&lt;/code>后，再输入&lt;code>abcde&lt;/code>,此时光标是处于&lt;code>e&lt;/code>的后面、&lt;code>'&lt;/code>的前面。&lt;/p>
&lt;p>此时再按一下&lt;code>'&lt;/code>，即可跳到&lt;code>'&lt;/code>的后面了。&lt;/p></description></item><item><title>手动编译vyos最新稳定版</title><link>https://example.com/posts/c5ea52a2/</link><pubDate>Wed, 14 Dec 2022 11:25:00 +0800</pubDate><guid>https://example.com/posts/c5ea52a2/</guid><description>&lt;p>vyos官方只有night-daily的镜像，没有稳定版的镜像。&lt;/p>
&lt;p>自己手动编译的话，vyos的官方文档又写的不明不白的，感觉有故意的成份。&lt;/p>
&lt;p>于是网上找了篇文章，简单明了的介绍了如何编译安装最新稳定LTS版本。&lt;/p>
&lt;h2 id="vyos不同版本对应的编译环境">vyos不同版本对应的编译环境&lt;/h2>
&lt;p>官方推荐是使用&lt;code>debian&lt;/code>来搭建编译环境.&lt;/p>
&lt;p>vyos版本和debian版本对应关系如下：&lt;/p>
&lt;p>VyOS 1.3(equuleus) .&amp;lt;&amp;mdash;&amp;gt; . Debian 10 (Buster)&lt;/p>
&lt;p>VyOS 1.4(sagitta, current) . &amp;lt;&amp;mdash;&amp;gt; . Debian 11 (Bullseye)&lt;/p>
&lt;h2 id="安装debian-10虚拟机">安装Debian 10虚拟机&lt;/h2>
&lt;p>使用vmware，详情不再赘述。&lt;/p>
&lt;p>不会安装虚拟机的话也就不用再想着手动编译vyos了。&lt;/p>
&lt;p>因为要编译最新的lts 1.3.2版本，由上面的对应关系知道，需要安装debian 10.&lt;/p>
&lt;h2 id="给debian-10安装docker环境">给debian 10安装docker环境&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ sudo apt-get update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo apt-get install -y apt-transport-https ca-certificates curl gnupg2 software-properties-common
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add -
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo add-apt-repository &amp;#34;deb [arch=amd64] https://download.docker.com/linux/debian $(lsb_release -cs) stable&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo apt-get update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo apt-get install -y docker-ce
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">## 添加当前用户到docker组
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo usermod -aG docker &amp;lt;Your username&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="编译iso镜像">编译ISO镜像&lt;/h2>
&lt;p>目前，最新的稳定版是&lt;code>1.3.2 LTS&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git clone -b 1.3.2 --single-branch https://github.com/vyos/vyos-build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cd vyos-build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker run --rm -it --privileged -v $(pwd):/vyos -w /vyos vyos/vyos-build:current bash
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">./configure --architecture amd64 --build-by &amp;#34;j.randomhacker@vyos.io&amp;#34; --build-type &amp;#34;release&amp;#34; --version &amp;#34;LTS 1.3.2&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo make iso
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="编译好的iso镜像下载">编译好的ISO镜像下载&lt;/h2>
&lt;p>在github上找到了个repo，专门发布编译好的lts镜像，地址在&lt;a class="link" href="https://github.com/naa0yama/vyos-build-lts" target="_blank" rel="noopener"
>这里&lt;/a>。&lt;/p></description></item><item><title>Linux下使用miniconda的一些设置</title><link>https://example.com/posts/d96c6166/</link><pubDate>Mon, 12 Dec 2022 02:04:54 +0800</pubDate><guid>https://example.com/posts/d96c6166/</guid><description>&lt;p>在&lt;code>kali&lt;/code>的&lt;code>zsh&lt;/code>环境中使用&lt;code>miniconda&lt;/code>，遇到一些问题，这里记录一下解决的过程。&lt;/p>
&lt;p>对于其它的linux来说，应该是通用的。&lt;/p>
&lt;h2 id="使用命令行安装miniconda">使用命令行安装miniconda&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mkdir -p ~/miniconda3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh -O ~/miniconda3/miniconda.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">## 如果使用bash，则把下面命令中的zsh替换成bash：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zsh ~/miniconda3/miniconda.sh -b -u -p ~/miniconda3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm -rf ~/miniconda3/miniconda.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">## 如果使用zsh,则执行：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">~/miniconda3/bin/conda init zsh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">## 如果使用bash，则执行：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">~/miniconda3/bin/conda init bash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="oh-my-zsh主题配置">oh-my-zsh主题配置&lt;/h2>
&lt;p>默认情况下，使用双行显示的oh-my-zsh主题，会在第一行的前面显示&lt;code>(base)&lt;/code>的标志:
&lt;img src="https://example.com/posts/d96c6166/default-base.png"
width="352"
height="78"
srcset="https://example.com/posts/d96c6166/default-base_hue7a70516c9bcb22154f0dd10772c86d9_4091_480x0_resize_box_3.png 480w, https://example.com/posts/d96c6166/default-base_hue7a70516c9bcb22154f0dd10772c86d9_4091_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="451"
data-flex-basis="1083px"
>&lt;br>
这就非常的不美观，因此需要对oh-my-zsh的主题做一些修改。&lt;/p>
&lt;p>这里以&lt;code>gnzh&lt;/code>主题为例。&lt;/p>
&lt;ol>
&lt;li>取消掉&lt;code>miniconda&lt;/code>默认的环境显示：&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">conda config --set changeps1 False
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>添加下面代码到gnzh主题的配置文件中&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">local conda_prompt=&amp;#39;$(conda_prompt_info)&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">conda_prompt_info() {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if [ -n &amp;#34;$CONDA_DEFAULT_ENV&amp;#34; ]; then
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> echo -n &amp;#34;%{$terminfo[bold]$fg[yellow]%}($CONDA_DEFAULT_ENV) %{$reset_color%}&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> else
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> echo -n &amp;#39;&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> fi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>注意：&lt;code>$conda_prompt&lt;/code>一定要写成函数的形式，否则PROMPT只会在启动&lt;code>zsh&lt;/code>的时候获取一次&lt;code>conda&lt;/code>环境信息，后续切换环境就不会再改变了。&lt;/p>
&lt;ol start="3">
&lt;li>在gnzh主题配置文件的合适地方添加&lt;code>${conda_prompt}&lt;/code>&lt;/li>
&lt;/ol>
&lt;p>例如下面：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">PROMPT=&amp;#34;╭─${user_host}${conda_prompt}${current_dir}\$(ruby_prompt_info)${git_branch}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">╰─$PR_PROMPT &amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">RPROMPT=&amp;#34;${return_code}&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>退出并重新进入&lt;code>shell&lt;/code>，即可看到效果。&lt;/p>
&lt;h2 id="默认不启用conda的base环境">默认不启用conda的base环境&lt;/h2>
&lt;p>安装完&lt;code>miniconda&lt;/code>后，每次登录系统都会自动启用默认的&lt;code>base&lt;/code>环境，这就取代了系统自带的&lt;code>python2&lt;/code>和&lt;code>python3&lt;/code>。&lt;/p>
&lt;p>如果想使用系统自带&lt;code>python&lt;/code>环境，有两种方法，推荐使用方法2：&lt;/p>
&lt;ul>
&lt;li>方法1:
手动退出base环境回到系统自带的环境&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">conda deactivate
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>方法2:
取消&lt;code>miniconda&lt;/code>的&lt;code>base&lt;/code>环境自启动设置：&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">conda config --set auto_activate_base false
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>要进入&lt;code>base&lt;/code>的话，可以手动运行命令&lt;code>conda activate base&lt;/code>&lt;/p>
&lt;p>加外，如果想让&lt;code>miniconda&lt;/code>的&lt;code>base&lt;/code>环境恢复自启动，可以：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">conda config --set auto_activate_base true
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>解决KDE桌面在vmware中的复制、粘贴和拖拽文件的问题</title><link>https://example.com/posts/d10df142/</link><pubDate>Sat, 10 Dec 2022 09:59:25 +0800</pubDate><guid>https://example.com/posts/d10df142/</guid><description>&lt;h2 id="问题描述">问题描述&lt;/h2>
&lt;p>在vmware中安装linux的虚拟机，做了以下工作之后：&lt;/p>
&lt;ol>
&lt;li>虚拟机使用的是kde桌面&lt;/li>
&lt;li>虚拟机已经安装了&lt;code>open-vm-tolls&lt;/code>和&lt;code>open-vm-tools-desktop&lt;/code>&lt;/li>
&lt;li>在虚拟机的高级选项中启用了拖放和复制粘贴等功能&lt;/li>
&lt;/ol>
&lt;p>依然不能和宿主机之间双向复制、粘贴和拖放文件。&lt;/p>
&lt;p>本人使用vmware安装kali Linux，使用的是KDE桌面，就出现了上面的问题。&lt;/p>
&lt;h2 id="原因">原因&lt;/h2>
&lt;p>这是KDE桌面的一个bug
当运行&lt;code>ps -aef | grep vmtoolsd&lt;/code>后，&lt;strong>并不会&lt;/strong>出现类似下图中的第2行红框中的&lt;code>/usr/bin/vmtoolsd -n vmusr --blockFd 3&lt;/code>的结果：
&lt;img src="https://example.com/../ps%e7%bb%93%e6%9e%9c.png"
loading="lazy"
>&lt;/p>
&lt;p>这就是导致不能复制、粘贴和拖放的原因&lt;/p>
&lt;h2 id="解决方法">解决方法&lt;/h2>
&lt;ol>
&lt;li>新建一个文件&lt;code>startkderc&lt;/code>&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo vi /etc/xdg/startkderc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>添加以下内容并保存：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[General]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemdBoot=false
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>添加&lt;code>vmware-user-suid-wrapper&lt;/code>到kde的自动启动
系统设置&amp;ndash;开机与关机&amp;ndash;自动启动&amp;ndash;添加&amp;ndash;添加应用程序，在弹出的对话框中输入&lt;code>/usr/bin/vmware-user-suid-wrapper&lt;/code>&lt;/li>
&lt;li>重新启动，问题解决&lt;/li>
&lt;/ol>
&lt;h2 id="延伸阅读">延伸阅读&lt;/h2>
&lt;p>相关讨论的原文在&lt;a class="link" href="https://github.com/vmware/open-vm-tools/issues/568" target="_blank" rel="noopener"
>这里&lt;/a>。&lt;/p>
&lt;p>另外提一点，在帖子中有人对fedora、archlinux和opensuse都做了测试，发现只有opensuse默认状态下一切功能正常。看来opensuse还是有点东西的😊。&lt;/p>
&lt;p>再另外，我自己测试，debian 11.5 live版本也没有问题。&lt;/p></description></item><item><title>Davinci在linux下的HiDPI分辨率的问题</title><link>https://example.com/posts/3d3eb7db/</link><pubDate>Thu, 03 Nov 2022 20:06:17 +0800</pubDate><guid>https://example.com/posts/3d3eb7db/</guid><description>&lt;p>我的显示器是27寸4K的分辨率。&lt;/p>
&lt;p>在ubuntu下安装完davinci resolve 18后，发现启动后界面字体变得非常小，除了&lt;code>鹰眼&lt;/code>我相信没人能看得清。&lt;/p>
&lt;p>很明显，这是个Linux下的UI缩放的问题。&lt;/p>
&lt;h2 id="解决方法">解决方法&lt;/h2>
&lt;p>网上一番搜索，找到了问题的&lt;a class="link" href="https://www.reallinuxuser.com/how-to-set-up-davinci-resolve-for-high-resolution-displays-in-linux/" target="_blank" rel="noopener"
>解决方法&lt;/a>：&lt;/p>
&lt;p>原理很简单，就是给davinci的启动程序添加几个参数，如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">QT_DEVICE_PIXEL_RATIO=3 QT_AUTO_SCREEN_SCALE_FACTOR=true ./resolve
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>解释一下：
QT_DEVICE_PIXEL_RATIO=&lt;code>3&lt;/code>，最后这个&lt;code>3&lt;/code>是放大的倍数，即放大&lt;code>300%&lt;/code>。&lt;/p>
&lt;p>如果是原始分辨率的话，这里设置为&lt;code>2&lt;/code>就可以了。&lt;/p>
&lt;p>但是如果已经调整过缩放了，比如我在ubuntu下已经设置为&lt;code>150%&lt;/code>的缩放，这里设置为&lt;code>3&lt;/code>比较合适。&lt;/p>
&lt;h2 id="添加到启动器">添加到启动器&lt;/h2>
&lt;p>ubuntu可以使用&lt;code>alacarte&lt;/code>这个软件编辑启动菜单。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo apt install alacarte
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在davinci的安装目录&lt;code>/opt/resolve/bin&lt;/code>下的新建一个文件&lt;code>davinci.sh&lt;/code>，内容如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/sh
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /opt/resolve/bin &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nv">QT_DEVICE_PIXEL_RATIO&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">3&lt;/span> &lt;span class="nv">QT_AUTO_SCREEN_SCALE_FACTOR&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">true&lt;/span> ./resolve
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>添加可执行权限：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo chmod +x davinci.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>运行&lt;code>alacarte&lt;/code>，找到&lt;code>davinci&lt;/code>的菜单项，点击&lt;code>属性&lt;/code>&amp;ndash;&lt;code>Browser&lt;/code>，选中&lt;code>davinci.sh&lt;/code>，保存即可。
&lt;img src="https://example.com/posts/3d3eb7db/alacarte-davinci.png"
width="1334"
height="1126"
srcset="https://example.com/posts/3d3eb7db/alacarte-davinci_hub65d449f9756d25fddec17428214d090_285529_480x0_resize_box_3.png 480w, https://example.com/posts/3d3eb7db/alacarte-davinci_hub65d449f9756d25fddec17428214d090_285529_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="118"
data-flex-basis="284px"
>&lt;/p></description></item><item><title>为nextcloud安装elasticsearch全文搜索</title><link>https://example.com/posts/f092b728/</link><pubDate>Fri, 28 Oct 2022 10:56:09 +0800</pubDate><guid>https://example.com/posts/f092b728/</guid><description>&lt;blockquote>
&lt;p>写作本文时,elasticsearch 8.3.4版本已经发布，无奈此版本与nextcloud集成的文章太少，因此还是使用elastic7。实际使用效果非常好。&lt;/p>
&lt;/blockquote>
&lt;h2 id="环境相关">环境相关&lt;/h2>
&lt;ul>
&lt;li>CPU:2核&lt;/li>
&lt;li>内存:4G&lt;/li>
&lt;li>操作系统: ubuntu 22.04 server&lt;/li>
&lt;li>java: openjdk-11-jdk&lt;/li>
&lt;li>php: 8.1&lt;/li>
&lt;li>elasticsearch: 7.17.6&lt;/li>
&lt;li>ednextcloud:24.0.6&lt;/li>
&lt;/ul>
&lt;h2 id="安装java">安装java&lt;/h2>
&lt;p>elasticsearch依赖于java&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo apt install openjdk-11-jdk
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="安装elasticsearch">安装elasticsearch&lt;/h2>
&lt;p>这里采用直接下载安装包来本地安装的方式。&lt;/p>
&lt;p>原因是elasticsearch的中文分词插件&lt;code>elasticsearch-analysis-ik&lt;/code>只有7.17.6版本。如果使用apt的方式安装会直接安装7.17.7版本，从而不匹配而无法使用。&lt;/p>
&lt;p>这也是为什么会安装&lt;code>elasticsearch&lt;/code> &lt;code>7.17.6&lt;/code>版本的原因。&lt;/p>
&lt;h3 id="下载">下载&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.17.6-amd64.deb
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="安装">安装&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo dpkg -i elasticsearch-7.17.6-amd64.deb
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="配置">配置&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> vi /etc/elasticsearch/elasticsearch.yml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在56行左右，修改成下面的形式：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">network.host: localhost
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="设置开机启动">设置开机启动&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo systemctl start elasticsearch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl enable elasticsearch
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="测试">测试&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">curl -X GET &amp;#34;localhost:9200&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>输出类似于下面：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">{
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;name&amp;#34; : &amp;#34;myhostname&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;cluster_name&amp;#34; : &amp;#34;elasticsearch&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;cluster_uuid&amp;#34; : &amp;#34;T6xlz9vrRe7qE9D8U4We6Q&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;version&amp;#34; : {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;number&amp;#34; : &amp;#34;7.17.6&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;build_flavor&amp;#34; : &amp;#34;default&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;build_type&amp;#34; : &amp;#34;deb&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;build_hash&amp;#34; : &amp;#34;f65e1yt67dc1d07b642e14a27f338990148ee5b6&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;build_date&amp;#34; : &amp;#34;2022-08-23T11:08:48.893373482Z&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;build_snapshot&amp;#34; : false,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;lucene_version&amp;#34; : &amp;#34;8.11.1&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;minimum_wire_compatibility_version&amp;#34; : &amp;#34;6.8.0&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;minimum_index_compatibility_version&amp;#34; : &amp;#34;6.0.0-beta1&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> },
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;tagline&amp;#34; : &amp;#34;You Know, for Search&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>并不需要网上说的用户名和密码什么的。&lt;/p>
&lt;h3 id="安装中文插件">安装中文插件&lt;/h3>
&lt;ol>
&lt;li>ingest-attachment&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/usr/share/elasticsearch/bin/elasticsearch-plugin install ingest-attachment
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>ik分词插件&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/usr/share/elasticsearch/bin/elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.17.6/elasticsearch-analysis-ik-7.17.6.zip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="nextcloud设置">nextcloud设置&lt;/h2>
&lt;h3 id="安装搜索相关插件">安装搜索相关插件&lt;/h3>
&lt;p>full text开头的那几个，如下图几个：
&lt;img src="https://example.com/posts/f092b728/full-text-plugin.png"
width="656"
height="488"
srcset="https://example.com/posts/f092b728/full-text-plugin_hu4fcabdb0f6fa28282198c600c974c6bc_29164_480x0_resize_box_3.png 480w, https://example.com/posts/f092b728/full-text-plugin_hu4fcabdb0f6fa28282198c600c974c6bc_29164_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="134"
data-flex-basis="322px"
>&lt;/p>
&lt;h3 id="设置插件">设置插件&lt;/h3>
&lt;p>打开设置-全文搜索,如下图配置
&lt;img src="https://example.com/posts/f092b728/search-config-1.png"
width="1413"
height="1753"
srcset="https://example.com/posts/f092b728/search-config-1_hu1f1f053f78b41425a04c81a129758c6d_131388_480x0_resize_box_3.png 480w, https://example.com/posts/f092b728/search-config-1_hu1f1f053f78b41425a04c81a129758c6d_131388_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="80"
data-flex-basis="193px"
>&lt;/p>
&lt;p>&lt;img src="https://example.com/posts/f092b728/search-config-2.png"
width="1241"
height="1421"
srcset="https://example.com/posts/f092b728/search-config-2_hub7feb5fdc19ec56ac79a2f0f1319ba04_90610_480x0_resize_box_3.png 480w, https://example.com/posts/f092b728/search-config-2_hub7feb5fdc19ec56ac79a2f0f1319ba04_90610_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="87"
data-flex-basis="209px"
>&lt;/p>
&lt;h3 id="生成索引">生成索引&lt;/h3>
&lt;p>进入到nextcloud的安装目录下,例如&lt;code>/var/www/nextcloud&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">cd /var/www/nextcloud
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>运行命令：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo -u www-data php ./occ fulltextsearch:index
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这时，可以去nextcloud里试试全文搜索了。&lt;/p>
&lt;h2 id="额外的工作">额外的工作&lt;/h2>
&lt;p>创建elasticsearch的索引服务，并开机自动启动&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo vi /etc/systemd/system/nextcloud-fulltext-elasticsearch-worker.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>输入如下内容：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[Unit]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Description=Elasticsearch Worker for Nextcloud Fulltext Search
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">After=network.target
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Service]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">User=www-data
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Group=www-data
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">WorkingDirectory=/var/www/nextcloud
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ExecStart=/usr/bin/php /var/www/nextcloud/occ fulltextsearch:live -q
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ExecStop=/usr/bin/php /var/www/nextcloud/occ fulltextsearch:stop
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Nice=19
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Restart=always
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Install]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">WantedBy=multi-user.target
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>开机自启动设置：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">systemctl enable nextcloud-fulltext-elasticsearch-worker.service
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl start nextcloud-fulltext-elasticsearch-worker.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>全部安装配置完成。&lt;/p></description></item><item><title>手动安装Nextcloud</title><link>https://example.com/posts/b924a1ee/</link><pubDate>Wed, 12 Oct 2022 05:51:34 +0800</pubDate><guid>https://example.com/posts/b924a1ee/</guid><description>&lt;h2 id="这篇文章在office预览方面依然有些问题需要解决">这篇文章在office预览方面依然有些问题，需要解决&lt;/h2>
&lt;p>试过docker、snpa等方式部署nextcloud，但是存在系统匹配、资源占用大等各种问题。而且配置都是写死的，看似安装部署简单，其实折腾起来更痛苦。&lt;/p>
&lt;p>尤其是在内网环境里,不涉及升级的问题,手动安装是更好的选择，而且超级简单。&lt;/p>
&lt;p>本文假设nextcloud的服务器地址是&lt;strong>192.168.8.14&lt;/strong>&lt;/p>
&lt;p>操作系统： ubuntu 22.04 server&lt;/p>
&lt;h2 id="安装apache2mariadbphpredis">安装apache2、mariadb、php、redis&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo apt update &amp;amp;&amp;amp; sudo apt upgrade
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install apache2 mariadb-server libapache2-mod-php php-gd php-mysql php-curl php-mbstring php-intl php-gmp php-bcmath php-xml php-imagick php-zip php-readline php-apcu redis-server php-redis
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="配置mysql">配置mysql&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo mysql_secure_installation
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo mysql -u root -p
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>输入密码以登录&lt;/p>
&lt;p>创建nextcloud的用户和数据库&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">CREATE USER &amp;#39;nextcloud&amp;#39;@&amp;#39;localhost&amp;#39; IDENTIFIED BY &amp;#39;密码&amp;#39;;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">CREATE DATABASE nextcloud;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">GRANT ALL PRIVILEGES ON nextcloud.* TO &amp;#39;nextcloud&amp;#39;@&amp;#39;localhost&amp;#39;;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">FLUSH PRIVILEGES;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">QUIT
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>以上，创建了用户名为&lt;code>nextcloud&lt;/code>、密码是自定义的密码、数据库为&lt;code>nextcloud&lt;/code>，且用户&lt;code>nextcloud&lt;/code>拥有数据库&lt;code>nextcloud&lt;/code>所有权限。&lt;/p>
&lt;h2 id="配置apache">配置apache&lt;/h2>
&lt;ul>
&lt;li>启用apache功能模块&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo a2enmod rewrite headers env dir mime ssl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>新建2个网站配置文件&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>新建&lt;code>/etc/apache2/sites-available/nextcloud.conf&lt;/code>,&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;lt;IfModule mod_ssl.c&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;VirtualHost _default_:443&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ServerName 192.168.8.14
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> DocumentRoot /var/www/nextcloud
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;Directory /var/www/nextcloud/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Options +FollowSymlinks
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> AllowOverride All
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;IfModule mod_dav.c&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Dav off
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/IfModule&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> SetEnv HOME /var/www/nextcloud
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> SetEnv HTTP_HOME /var/www/nextcloud
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/Directory&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;IfModule mod_headers.c&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Header always set Strict-Transport-Security &amp;#34;max-age=15768000; preload&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/IfModule&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> SSLEngine on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> SSLCertificateFile /etc/ssl/certs/ssl-cert-snakeoil.pem
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> SSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/VirtualHost&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/IfModule&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这是网站的主配置文件,使用了apache自带的证书。&lt;/p>
&lt;ol start="2">
&lt;li>新建 &lt;code>/etc/apache2/sites-available/nextcloud-redirect.conf&lt;/code>,内容如下:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;lt;VirtualHost *:80&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ServerAdmin 192.168.8.14
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> RewriteEngine On
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> RewriteCond %{HTTPS} off
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> RewriteRule ^(.*)$ https://%{HTTP_HOST}$1 [R=301,L]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/VirtualHost&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这是http到https的跳转配置文件&lt;/p>
&lt;ol start="3">
&lt;li>启用网站配置&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo a2ensite nextcloud.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo a2ensite nextcloud-redirect.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#禁用默认的配置文件
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo a2dissite 000-default.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="php配置">PHP配置&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo vim /etc/php/*/apache2/php.ini
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>找到下面的内容，对应修改。下面是修改后的内容：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">date.timezone = Asia/Shanghai
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">memory_limit = 2048M
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">upload_max_filesize = 16000M
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">post_max_size = 16128M
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">max_execution_time = 300
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>post_max_size&lt;/code>的值最好比&lt;code>upload_max_filesize&lt;/code>大一些。&lt;/p>
&lt;h2 id="安装nextcloud">安装nextcloud&lt;/h2>
&lt;ol>
&lt;li>下载&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">wget https://download.nextcloud.com/server/releases/latest-24.zip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>nextcloud 25版本刚出，app还没适配完成，这里用24版本。&lt;/p>
&lt;ol start="2">
&lt;li>解压&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">unzip latest-24.zip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>下面的操作，是把解压出来的&lt;code>nextcloud&lt;/code>放在&lt;code>/var/www/&lt;/code>下面,并且修改权限&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo mv nextcloud /var/www/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo chown -R www-data:www-data /var/www/nextcloud
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="4">
&lt;li>重启apache2&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo systemctl restart apache2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>输入&lt;a class="link" href="http://192.168.8.14%ef%bc%8c%e5%ba%94%e8%af%a5%e4%bc%9a%e8%87%aa%e5%8a%a8%e8%b7%b3%e8%bd%ac%e5%88%b0https://192.168.8.14" target="_blank" rel="noopener"
>http://192.168.8.14，应该会自动跳转到https://192.168.8.14&lt;/a> ,&lt;/p>
&lt;p>根据页面提示安装即可.&lt;/p>
&lt;h2 id="优化nextcloud">优化nextcloud&lt;/h2>
&lt;h3 id="设置redis缓存">设置redis缓存&lt;/h3>
&lt;ol>
&lt;li>修改redis配置文件&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo vim /etc/redis/redis.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>打到对应位置,修改成下面的配置:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">port 0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">unixsocket /var/run/redis/redis-server.sock
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">unixsocketperm 770
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>添加用户www-data使用redis的权限&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo usermod -a -G redis www-data
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>重启apache&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo systemctl restart apache2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="4">
&lt;li>修改nextcloud配置文件
在&lt;code>/var/www/html/nextcloud/config/config.php&lt;/code>里添加如下配置:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;#39;memcache.local&amp;#39; =&amp;gt; &amp;#39;\\OC\\Memcache\\Redis&amp;#39;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#39;memcache.locking&amp;#39; =&amp;gt; &amp;#39;\\OC\\Memcache\\Redis&amp;#39;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#39;filelocking.enabled&amp;#39; =&amp;gt; &amp;#39;true&amp;#39;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#39;redis&amp;#39; =&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">array (
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#39;host&amp;#39; =&amp;gt; &amp;#39;/var/run/redis/redis-server.sock&amp;#39;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#39;port&amp;#39; =&amp;gt; 0,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#39;timeout&amp;#39; =&amp;gt; 0.0,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">),
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="5">
&lt;li>开机启动redis&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo systemctl enable redis-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="使用pretty-links">使用Pretty Links&lt;/h3>
&lt;p>即隐藏URL中的*.php的内容&lt;/p>
&lt;p>修改nextcloud的配置文件:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo vim /var/www/html/nextcloud/config/config.php
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>添加如下内容:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;#39;htaccess.RewriteBase&amp;#39; =&amp;gt; &amp;#39;/&amp;#39;,
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在nextcloud的主目录&lt;code>/var/www/nextcloud&lt;/code>下运行命令：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo -u www-data php occ maintenance:update:htaccess
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="php-opcache设置">PHP Opcache设置&lt;/h3>
&lt;p>修改php配置文件&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo vim /etc/php/*/apache2/php.ini
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>添加如下内容:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">opcache.enable=1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">opcache.enable_cli=1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">opcache.interned_strings_buffer=8
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">opcache.max_accelerated_files=10000
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">opcache.memory_consumption=128
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">opcache.save_comments=1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">opcache.revalidate_freq=1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="电话区域和本地服务跳转配置">电话区域和本地服务跳转配置&lt;/h3>
&lt;p>修改nextcloud的配置文件:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo vim /var/www/html/nextcloud/config/config.php
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>添加如下内容:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;#39;default_phone_region&amp;#39; =&amp;gt; &amp;#39;CN&amp;#39;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#39;allow_local_remote_servers&amp;#39; =&amp;gt; true,
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="collabora无法在线打开docx等文档">Collabora无法在线打开.docx等文档&lt;/h3>
&lt;p>现象：一直显示“正在加载 xxxx.docx”，但是一直显示不出来。&lt;/p>
&lt;p>原因：这是由于系统缺少相关依赖造成的。&lt;/p>
&lt;p>解决：根据Collabora官方文档，至少需要下面两个软件
&lt;code>fontconfig&lt;/code>、&lt;code>fuse&lt;/code>，安装即可&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo apt install fontconfig fuse
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="collabora无法显示中文字体">Collabora无法显示中文字体&lt;/h3>
&lt;p>解决方法：把需要用到的中文字体，拷贝到&lt;code>/usr/local/share/fonts/&lt;/code>目录下。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo cp SomeFont.ttf /usr/local/share/fonts/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>正确安装WSL2的方法</title><link>https://example.com/posts/f68b8b61/</link><pubDate>Sat, 08 Oct 2022 17:58:41 +0800</pubDate><guid>https://example.com/posts/f68b8b61/</guid><description>&lt;p>近期重装系统,在安装wsl的时候,由于方法不正确,导致安装的linux运行在wsl1版本,而不是我想要的wsl2。&lt;/p>
&lt;p>下面介绍一下正确安装wsl2，并设置wsl2为默认版本的方法，抄自&lt;a class="link" href="https://www.kali.org/docs/wsl/win-kex/" target="_blank" rel="noopener"
>kali官方文档&lt;/a>。&lt;/p>
&lt;p>&lt;code>win&lt;/code>+&lt;code>x&lt;/code> &lt;code>a&lt;/code>，打开管理员的powershell&lt;/p>
&lt;p>依次运行下面命令：
1.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>
&lt;p>重启windows&lt;/p>
&lt;/li>
&lt;li>&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="4">
&lt;li>
&lt;p>重启windows&lt;/p>
&lt;/li>
&lt;li>
&lt;p>设置默认版本为wsl2&lt;/p>
&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">wsl --set-default-version 2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="6">
&lt;li>更新wsl&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">wsl --update
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>完工。&lt;/p></description></item><item><title>WSL修改linux发行版的主机名</title><link>https://example.com/posts/6b07178d/</link><pubDate>Sat, 08 Oct 2022 17:50:48 +0800</pubDate><guid>https://example.com/posts/6b07178d/</guid><description>&lt;p>wsl安装了多个linux发行版后，主机名统一都是windows的主机名，这导致各个发行版之间不是很好区分。&lt;/p>
&lt;p>下面提供一个方法，能够单独修改wsl里的各个linux发行版的主机名，而不必修改windows的主机名。&lt;/p>
&lt;p>在&lt;code>/etc&lt;/code>目录下新建一个文件&lt;code>wsl.conf&lt;/code>，即&lt;code>/etc/wsl.conf&lt;/code>,内容如下:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> [network]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># generateHosts = false
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> hostname = kali
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>上面的文件里,把&lt;code>kali&lt;/code>换成你想要的主机名即可。&lt;/p>
&lt;p>修改完成后，需要重启wsl方可生效。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">wsl --shutdown
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>再打开wsl里的linux，就能看到效果了。&lt;/p></description></item><item><title>Almalinux8修改默认的SSH端口号</title><link>https://example.com/posts/583558fa/</link><pubDate>Fri, 07 Oct 2022 11:33:41 +0800</pubDate><guid>https://example.com/posts/583558fa/</guid><description>&lt;blockquote>
&lt;blockquote>
&lt;p>主要涉及修改的地方有SELinux、Firewall等。&lt;/p>
&lt;/blockquote>
&lt;/blockquote>
&lt;p>这里以&lt;code>2394&lt;/code>端口为例。&lt;/p>
&lt;h2 id="安装ssh服务">安装ssh服务&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo dnf in openssh-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="修改sshd配置文件">修改sshd配置文件&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo vi /etc/ssh/sshd_config
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在&lt;code>#port 22&lt;/code>下面新添加一行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Port 2394
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="selinux里开放端口">SELinux里开放端口&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">semanage port -a -t ssh_port_t -p tcp 2394
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>查看已经开放的端口&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">semanage port -l|grep ssh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>如果出现&lt;code>ValueError: 没有管理SELinux 策略或者无法访问存储&lt;/code>，解决方法在&lt;a class="link" href="https://dnwzlx.com/posts/9a31e845/" target="_blank" rel="noopener"
>这里&lt;/a>。&lt;/p>
&lt;/blockquote>
&lt;h2 id="firewall开放端口">firewall开放端口&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">firewall-cmd --zone=public --permanent --add-port=2394/tcp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>一定要有&lt;code>--zone=public&lt;/code>这个参数，不然开放端口后也连接不上。&lt;/p>
&lt;/blockquote>
&lt;p>重载firewall&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">firewall-cmd --reload
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="启用ssh服务">启用ssh服务&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">systemctl enable ssh ##开机自启动
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl restart ssh ##重新启动ssh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="关闭默认的端口">关闭默认的端口&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">firewall-cmd --permanent --zone=public --remove-port=22/tcp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="重启服务器">重启服务器&lt;/h2>
&lt;p>连接即可。&lt;/p>
&lt;h2 id="几个问题的解决">几个问题的解决&lt;/h2>
&lt;h3 id="第一次可以连接ssh但以后再连接则不行">第一次可以连接ssh，但以后再连接则不行&lt;/h3>
&lt;p>问题描述：初次安装完系统后，启动sshd服务，不用修改任何配置，第一次的时候可以直接连接到服务器，以后就不行了。&lt;/p>
&lt;p>解决：这个问题出现的根本原因还未深究，但是解决方法很简单：&lt;/p>
&lt;p>修改&lt;code>/etc/ssh/sshd_config&lt;/code>,把&lt;code>#Port 22&lt;/code>前面的&lt;code>#&lt;/code>去掉,即改成&lt;code>Port 22&lt;/code>即可。&lt;/p>
&lt;h3 id="已经在firewall-cmd里放行了端口但还是无法连接">已经在firewall-cmd里放行了端口，但还是无法连接&lt;/h3>
&lt;p>问题描述：一直显示 &lt;code>Connection timed out&lt;/code>&lt;/p>
&lt;p>解决:这个问题,是由于在放行端口之后,没有执行&lt;code>firewall-cmd --reload&lt;/code>造成的。&lt;/p>
&lt;p>如果不执行&lt;code>firewall-cmd --reload&lt;/code>命令，即使添加端口后显示success,并且重启了服务器,但是&lt;code>firewalld&lt;/code>的规则依旧不生效。&lt;/p>
&lt;p>所以，切记在添加需要放行的端口后，要执行一次&lt;code>firewall-cmd --reload&lt;/code>命令。&lt;/p>
&lt;h3 id="semanage命令找不到">semanage命令找不到&lt;/h3>
&lt;p>安装下面软件包即可&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">dnf in policycoreutils-python-utils
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="almalinux最小化安装默认的几个软件">almalinux最小化安装默认的几个软件&lt;/h3>
&lt;p>最小化安装的almalinux,默认安装了&lt;code>openssh&lt;/code>、&lt;code>openssh-server&lt;/code>、&lt;code>firewall-cmd&lt;/code>、&lt;code>firewalld&lt;/code>，对于管理来说，只需要再安装上述的&lt;code>semanage&lt;/code>即可。很是贴心和方便。&lt;/p></description></item><item><title>SELinux相关问题的解决</title><link>https://example.com/posts/9a31e845/</link><pubDate>Fri, 07 Oct 2022 11:17:16 +0800</pubDate><guid>https://example.com/posts/9a31e845/</guid><description>&lt;p>为了服务器的安全性考虑,rhel系列默认会启用的SELinux最好不要关闭。&lt;/p>
&lt;p>这也导致了一些坑的出现,下面记录一下解决方法。&lt;/p>
&lt;h2 id="更改ssh端口号后ssh服务无法启动">更改SSH端口号后,ssh服务无法启动&lt;/h2>
&lt;p>这个问题是因为selinux里，只默认开放了22端口。如果只在&lt;code>/etc/ssh/sshd_config&lt;/code>里修改了端口号，就会出现上面的问题。&lt;/p>
&lt;h3 id="解决方法">解决方法&lt;/h3>
&lt;p>在selinux里开放对应的端口号,这里以&lt;code>2394&lt;/code>为例：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">semanage port -a -t ssh_port_t -p tcp &lt;span class="m">2394&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>详细改端口的教程看&lt;a class="link" href="https://dnwzlx.com/posts/583558fa/" target="_blank" rel="noopener"
>这里&lt;/a>.&lt;/p>
&lt;h2 id="valueerror-没有管理selinux-策略或者无法访问存储">ValueError: 没有管理SELinux 策略或者无法访问存储&lt;/h2>
&lt;p>这个问题的详细解释看&lt;a class="link" href="https://blog.siphos.be/2014/10/migrating-to-selinux-userspace-2-4-small-warning-for-users/" target="_blank" rel="noopener"
>这里&lt;/a>。&lt;/p>
&lt;p>大体意思是：由于SELinux版本升级，新版本的SELinux的策略模型存储在&lt;code>/var/lib/selinux&lt;/code>，而不是之前的&lt;code>/etc/selinux&lt;/code>里。&lt;/p>
&lt;p>由于各方面的原因（主要是&lt;code> portage_t&lt;/code>域名必须被移除），SELinux在版本升级的时候，并不会自动修改这个存储路径，需要手动进行修改。&lt;/p>
&lt;p>作者也说了，出现上面的错误，并不意味着系统崩坏，也不会影响SELinux正常起作用，只会影响&lt;code> semanage&lt;/code>或者&lt;code>setsebool&lt;/code>这些工具的使用。&lt;/p>
&lt;p>而且手动修改只需要运行一次就可以了。&lt;/p>
&lt;h3 id="解决方法-1">解决方法&lt;/h3>
&lt;ol>
&lt;li>重建一下SELinux的存储路径&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/usr/libexec/selinux/semanage_migrate_store
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>删除旧的策略模型：&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">rm -rf /etc/selinux/mcs/modules
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>重启服务器就可以了。&lt;/li>
&lt;/ol></description></item><item><title>Kali下python2 Python3 Pip的安装</title><link>https://example.com/posts/0b636d39/</link><pubDate>Wed, 05 Oct 2022 10:29:03 +0800</pubDate><guid>https://example.com/posts/0b636d39/</guid><description>&lt;p>最近在wsl里用kali。&lt;/p>
&lt;p>由于wsl里的kali只提供了一个最基本的环境，python2、python3、pip2、pip3都需要自己安装，这里记录一下安装方法。&lt;/p>
&lt;h2 id="python3和pip3">python3和pip3&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo apt install python3 python3-dev python3-pip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="python2和pip2">python2和pip2&lt;/h2>
&lt;h3 id="python2安装">python2安装&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo apt install python2 python2-dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="pip2安装">pip2安装&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">wget https://bootstrap.pypa.io/pip/2.7/get-pip.py
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo python2 get-pip.py
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这样，在使用的时候，只需要输入&lt;code>python2&lt;/code>、&lt;code>pip2&lt;/code>和&lt;code>python3&lt;/code>、&lt;code>pip3&lt;/code>即可。&lt;/p>
&lt;h2 id="后记">后记&lt;/h2>
&lt;p>如果想输入&lt;code>python&lt;/code>的时候，默认调用&lt;code>python3&lt;/code>,可以安装&lt;code>python-is-python3&lt;/code>这个软件包&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo apt install python-python3
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>解决Windows Server 2022里OneDrive的同步问题</title><link>https://example.com/posts/584fb855/</link><pubDate>Mon, 03 Oct 2022 09:11:03 +0800</pubDate><guid>https://example.com/posts/584fb855/</guid><description>&lt;h2 id="问题">问题&lt;/h2>
&lt;p>在windows server 2022里，OneDrive可以正常安装使用，但是缺少了一项功能：&lt;/p>
&lt;p>&lt;img src="https://example.com/posts/584fb855/%E5%8A%9F%E8%83%BD1.png"
width="747"
height="381"
srcset="https://example.com/posts/584fb855/%E5%8A%9F%E8%83%BD1_hu74008aa5849cb2387b684f2eac555c32_31623_480x0_resize_box_3.png 480w, https://example.com/posts/584fb855/%E5%8A%9F%E8%83%BD1_hu74008aa5849cb2387b684f2eac555c32_31623_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="196"
data-flex-basis="470px"
>&lt;/p>
&lt;p>由于我把大量的绿色软件放在OneDrive里进行同步，在重装系统的时候，如果没有这个功能，所有软件得一个一个同步，就太麻烦了。&lt;/p>
&lt;h2 id="解决">解决&lt;/h2>
&lt;p>一番搜索，找到了解决方法：&lt;/p>
&lt;ol>
&lt;li>修改安全配置&lt;/li>
&lt;/ol>
&lt;p>&lt;code>win&lt;/code>+&lt;code>R&lt;/code>，输入&lt;code>secpol.msc&lt;/code>，选择 本地策略&amp;raquo;安全选项&amp;raquo;右边策略栏拉至用户账户控制相关配置，修改3个选项如下图：&lt;/p>
&lt;p>&lt;img src="https://example.com/posts/584fb855/%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE.png"
width="1096"
height="367"
srcset="https://example.com/posts/584fb855/%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE_hu7071f231a9a675b7773250c38e000d7f_277565_480x0_resize_box_3.png 480w, https://example.com/posts/584fb855/%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE_hu7071f231a9a675b7773250c38e000d7f_277565_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="298"
data-flex-basis="716px"
>&lt;/p>
&lt;ol start="2">
&lt;li>重置 OneDrive&lt;/li>
&lt;/ol>
&lt;p>打开&lt;code>CMD&lt;/code>，输入下面命令：&lt;/p>
&lt;p>&lt;code>C：\Program Files\Microsoft OneDrive\onedrive.exe /reset&lt;/code>&lt;/p>
&lt;p>重启之后，看到熟悉的&lt;code>始终(A)保留在此设备上&lt;/code>就回来了。&lt;/p></description></item><item><title>解决burpsuite在高分屏上字体模糊的问题</title><link>https://example.com/posts/5f34e294/</link><pubDate>Tue, 27 Sep 2022 18:41:56 +0800</pubDate><guid>https://example.com/posts/5f34e294/</guid><description>&lt;h2 id="问题">问题&lt;/h2>
&lt;p>新版本的burpsuite在启动后，会根据系统的分辨率设置情况自动进行缩放，这带来2个问题：&lt;/p>
&lt;ol>
&lt;li>字体界面变得模糊&lt;/li>
&lt;li>在reapter等界面中，选择字体时鼠标会乱动，导致选不准。&lt;/li>
&lt;/ol>
&lt;h2 id="解决">解决&lt;/h2>
&lt;p>要解决要很简单，在burpsuite的启动命令中加上下面的参数即可：
&lt;code>-Dsun.java2d.uiScale=1&lt;/code>&lt;/p>
&lt;p>完整的命令类似于下面：
&lt;code>java --illegal-access=permit -Dfile.encoding=utf-8 -noverify -Dsun.java2d.uiScale=1 -javaagent:BurpSuiteLoader.jar -jar burpsuite_pro_org.jar&lt;/code>&lt;/p>
&lt;p>重启后，需要在&lt;code>User options&lt;/code>&amp;ndash;&amp;gt;&lt;code>Display&lt;/code>中把字体调大，一般4K屏20号字体比较不错。&lt;/p>
&lt;p>还有一个好处是,render中的字体也不再模糊了。&lt;/p>
&lt;p>另外等宽字体推荐使用&lt;code>更纱黑体 mono sc nerd&lt;/code>
&lt;img src="https://example.com/posts/5f34e294/font-setting.png"
width="1464"
height="588"
srcset="https://example.com/posts/5f34e294/font-setting_huedb682363974e6137252054a487d6c2b_56306_480x0_resize_box_3.png 480w, https://example.com/posts/5f34e294/font-setting_huedb682363974e6137252054a487d6c2b_56306_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="248"
data-flex-basis="597px"
>&lt;/p></description></item><item><title>Kali安装zsh及常用插件</title><link>https://example.com/posts/e9b31c18/</link><pubDate>Sat, 24 Sep 2022 07:26:39 +0800</pubDate><guid>https://example.com/posts/e9b31c18/</guid><description>&lt;blockquote>
&lt;blockquote>
&lt;p>kali在2020.4版本后,已经将zsh设置成了默认终端。
但在一些特殊的环境下,比如wsl2里的kali,仍然使用的是bash&lt;/p>
&lt;/blockquote>
&lt;/blockquote>
&lt;h2 id="查看当前默认系统shell">查看当前默认系统shell&lt;/h2>
&lt;p>&lt;code>echo $SHELL&lt;/code>&lt;/p>
&lt;h2 id="安装zsh和oh-my-zsh">安装zsh和oh-my-zsh&lt;/h2>
&lt;h3 id="zsh">zsh&lt;/h3>
&lt;p>&lt;code>sudo apt install zsh&lt;/code>&lt;/p>
&lt;h3 id="oh-my-zsh">oh-my-zsh&lt;/h3>
&lt;p>&lt;code>sh -c &amp;quot;$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&amp;quot;&lt;/code>&lt;/p>
&lt;ul>
&lt;li>需要系统中有&lt;code>curl&lt;/code>和&lt;code>git&lt;/code>&lt;/li>
&lt;li>安装完oh-my-zsh后，会自动提示是否切换到zsh。&lt;/li>
&lt;li>如果没有提示切换系统shell，使用&lt;code>chsh -s /bin/zsh&lt;/code>来切换。&lt;/li>
&lt;/ul>
&lt;h2 id="安装zsh常用插件">安装zsh常用插件&lt;/h2>
&lt;p>最有用的就是3个：&lt;/p>
&lt;ul>
&lt;li>高亮插件&lt;code>zsh-syntax-highlighting&lt;/code>、&lt;/li>
&lt;li>自动实例插件&lt;code>zsh-autosuggestions&lt;/code>、&lt;/li>
&lt;li>跳转插件&lt;code>autojump&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>在&lt;code>debian&lt;/code>或者&lt;code>kali&lt;/code>下，这3个插件都有对应的软件包，直接安装即可。&lt;/p>
&lt;p>其它linux，如果没有对应的软件包，可以用下面手动安装的方式。&lt;/p>
&lt;h3 id="zsh-syntax-highlighting">zsh-syntax-highlighting&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> &lt;span class="nv">$ZSH&lt;/span>/custom/plugins
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git clone https://github.com/zsh-users/zsh-syntax-highlighting.git
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="zsh-autosuggestions">zsh-autosuggestions&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> &lt;span class="nv">$ZSH&lt;/span>/custom/plugins
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git clone https://github.com/zsh-users/zsh-autosuggestions.git
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="autojump">autojump&lt;/h3>
&lt;p>&lt;code>sudo apt install autojump&lt;/code>&lt;/p>
&lt;h2 id="配置启用插件">配置启用插件&lt;/h2>
&lt;p>除了上面的插件，还有几个插件建议一起启用，都是&lt;code>oh-my-zsh&lt;/code>自带的：&lt;/p>
&lt;ul>
&lt;li>z&lt;/li>
&lt;li>extract&lt;/li>
&lt;li>safe-paste&lt;/li>
&lt;/ul>
&lt;p>打开&lt;code>~/.zshrc&lt;/code>，找到&lt;code>plugins=(git)&lt;/code>这一行，修改成下面的内容：
&lt;code>plugins=(git autojump zsh-autosuggestions zsh-syntax-highlighting z safe-paste extract)&lt;/code>&lt;/p>
&lt;h2 id="配置文件生效">配置文件生效&lt;/h2>
&lt;p>终端下运行命令:
&lt;code>source ~/.zshrc&lt;/code>&lt;/p></description></item><item><title>27寸4K显示器的缩放比例研究</title><link>https://example.com/posts/c609f2d7/</link><pubDate>Mon, 12 Sep 2022 00:51:01 +0800</pubDate><guid>https://example.com/posts/c609f2d7/</guid><description>&lt;blockquote>
&lt;p>一直以来，对于27寸4K的显示，都是使用windows 10默认推荐的150%的缩放。
直到今天才发现,这是错的。&lt;/p>
&lt;/blockquote>
&lt;h2 id="显示器的尺寸分辨率和ppi">显示器的尺寸、分辨率和PPI&lt;/h2>
&lt;p>先说一个知识：在Windows中，100%缩放比例实际对应的是ppi和dpi同为96的情况。&lt;/p>
&lt;p>对于高分屏来说，windows 10默认的那几个缩放比例，比如27寸4k默认推荐的150%，在缩放后对应的DPI其实都不是96。&lt;/p>
&lt;p>这就导致了在缩放后出现的一个问题：一些软件的UI出现了错位或者字体过小。&lt;/p>
&lt;h2 id="如何正确计算缩放比例">如何正确计算缩放比例&lt;/h2>
&lt;p>这里还是以27寸4K显示器来举例，它的PPI约为163,用163除以96,得出的结果约为169%。那么这个169就是你应该设置的缩放比例。&lt;/p>
&lt;p>也就是说，缩放比例应该以缩放后DPI仍为96为标准来设置。这样的好处是屏幕的UI尺寸以及软件内文档尺寸符合原有设计尺寸。&lt;/p>
&lt;h2 id="对比150缩放的实际感受">对比150%缩放的实际感受&lt;/h2>
&lt;p>设置为169%的缩放后，系统字体大小变得更合适了，一些软件的UI也不会出现菜单字体过小的问题。字体美化后也变得更加好看了。&lt;/p>
&lt;p>比如cobalstrike,使用150%缩放经常会出现客户端登录界面空白的现象,而在使用169%缩放后,再也没有出现了。&lt;/p></description></item><item><title>Hugofy新建文章出现错误的解决方法</title><link>https://example.com/posts/5b6e3a97/</link><pubDate>Mon, 29 Aug 2022 19:23:58 +0800</pubDate><guid>https://example.com/posts/5b6e3a97/</guid><description>&lt;p>前文说过，我使用hugo的&lt;code>page bundle&lt;/code>的方式来组织整个网站，并且使用&lt;code>vscode&lt;/code>来编辑和管理网站。&lt;/p>
&lt;p>vscode有一个荒野无灯大佬开发的名为&lt;code>hugofy&lt;/code>的插件，这个插件可以很好的支持&lt;code>page bundle&lt;/code>模式。&lt;/p>
&lt;p>以前使用这个插件一直正常，今天下载了新的0.101版本的&lt;code>hugo&lt;/code>，在使用这个插件新建文章时，却提示&lt;code>Error: could not determine content directory for &amp;quot;/posts/xxx.md&amp;quot;&lt;/code>。&lt;/p>
&lt;p>网上搜索了半天，也没发现有用的信息，最后突然想到，会不会是&lt;code>hugo&lt;/code>版本的问题呢？&lt;/p>
&lt;p>于是下载了hugo的0.84版本，再一试，果然一切正常了。&lt;/p></description></item><item><title>IKuai的DNS设置</title><link>https://example.com/posts/f86cf3fe/</link><pubDate>Mon, 29 Aug 2022 18:28:40 +0800</pubDate><guid>https://example.com/posts/f86cf3fe/</guid><description>&lt;p>这几天黑苹果终于是折腾完美了，但是有一个问题：&lt;/p>
&lt;p>在黑苹果里打开网页非常的慢，而且打开网站后，再点击网站里的链接也是非常慢。&lt;/p>
&lt;p>切换到Windows系统里测试了一上，快了一点，但是也没有达到秒开的地步。&lt;/p>
&lt;p>这是非常不应该的。我家里的是千兆宽带，打开的也是sohu、ifeng之类的大站，DNS用的也是114，怎么会打开个网页也慢呢？&lt;/p>
&lt;p>作为一个网络行业相关人员，第一时间就怀疑到了DNS上。&lt;/p>
&lt;p>家里用的是软路由，使用的是ikuai虚拟机。一番折腾后，找到了问题的答案。&lt;/p>
&lt;p>在ikuai-网络设置-DNS设置里，有一个&lt;code>DNS加速模式&lt;/code>。&lt;/p>
&lt;p>我原本的设置是&lt;code>代理模式（DoH:DNS Over Https）&lt;/code>,把它改成&lt;code>代理模式（UDP)&lt;/code>就可以了。
&lt;img src="https://example.com/posts/f86cf3fe/ikuai-dns.png"
width="1924"
height="1026"
srcset="https://example.com/posts/f86cf3fe/ikuai-dns_huc3ff059f22820ba3d0c8d16cfa8bd26d_195768_480x0_resize_box_3.png 480w, https://example.com/posts/f86cf3fe/ikuai-dns_huc3ff059f22820ba3d0c8d16cfa8bd26d_195768_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="187"
data-flex-basis="450px"
>&lt;/p>
&lt;p>这样打开任何国内的大站，都是秒开的效果。&lt;/p>
&lt;p>问题解决。&lt;/p></description></item><item><title>Vmware Workstation导出ova格式的虚拟机</title><link>https://example.com/posts/f1fa0209/</link><pubDate>Sun, 17 Jul 2022 07:31:26 +0800</pubDate><guid>https://example.com/posts/f1fa0209/</guid><description>&lt;p>两个步骤，非常简单，看图：
&lt;img src="https://example.com/posts/f1fa0209/vmware1.png"
width="896"
height="604"
srcset="https://example.com/posts/f1fa0209/vmware1_hud07470c21969d7482b2d4b5c16a4562c_65761_480x0_resize_box_3.png 480w, https://example.com/posts/f1fa0209/vmware1_hud07470c21969d7482b2d4b5c16a4562c_65761_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="148"
data-flex-basis="356px"
>&lt;/p>
&lt;p>&lt;img src="https://example.com/posts/f1fa0209/vmware2.png"
width="1185"
height="419"
srcset="https://example.com/posts/f1fa0209/vmware2_huc602db87ff3bb5d60fe761a043bd717c_18447_480x0_resize_box_3.png 480w, https://example.com/posts/f1fa0209/vmware2_huc602db87ff3bb5d60fe761a043bd717c_18447_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="282"
data-flex-basis="678px"
>&lt;/p>
&lt;p>需要注意的是，&lt;code>vmware workstation&lt;/code>在选择导出时，只能选择&lt;code>ovf&lt;/code>格式，不是想要的&lt;code>ova&lt;/code>格式。&lt;/p>
&lt;p>这时只需要在保存时，手动把&lt;code>ovf&lt;/code>后缀改成&lt;code>ova&lt;/code>，这样导出的就是&lt;code>ova&lt;/code>格式了。&lt;/p></description></item><item><title>Vmware在Linux作为Host下的键盘映射的问题</title><link>https://example.com/posts/846f01f3/</link><pubDate>Sat, 16 Jul 2022 19:28:53 +0800</pubDate><guid>https://example.com/posts/846f01f3/</guid><description>&lt;p>长久以来，在 Linux 使用 vmware 总是有个问题没有解决。&lt;/p>
&lt;p>当在 Linux 里把 Ctrl 和 CapsLock 这两个键互换后，vmware 的虚拟机里并不会跟着一起换，而依旧是原来的键位。而同样的问题在 Windows 下就不存在。&lt;/p>
&lt;p>vmware 的官方文档解释：&lt;/p>
&lt;blockquote>
&lt;blockquote>
&lt;p>Workstation Player 可通过检查当前的 X 键映射确定要使用的表。但这种决策过程有时也会失败。另外，每个映射都是固定的，不保证对任何给定的键盘和 X 按键代码-键盘符号映射都正确无误。例如，如果用户使用 xmodmap 互换 Ctrl 和 CapsLock 按键，那么在使用远程服务器时虚拟机中的按键将互换（键盘符号映射），但在使用本地服务器时将取消互换（按键代码映射）。为了修正此问题，您必须在 Workstation Player 中重新映射按键。&lt;/p>
&lt;/blockquote>
&lt;/blockquote>
&lt;p>也就是说，在本机上修改了键位后，远程连接到 vmware 虚拟机里是正常的，但是在本机上的虚拟机里则不能使用。&lt;/p>
&lt;h2 id="解决方案">解决方案&lt;/h2>
&lt;p>官方给出的解决方案是：&lt;/p>
&lt;h3 id="查看特定键位的值">查看特定键位的值&lt;/h3>
&lt;p>使用xev或者xmodmap -pk查看 Ctrl 和 CapsLock 的键位值&lt;/p>
&lt;p>&lt;img src="https://example.com/posts/846f01f3/keyboard.png"
width="1454"
height="547"
srcset="https://example.com/posts/846f01f3/keyboard_hu2f8781e41254bb5be0b5b653687b2689_848884_480x0_resize_box_3.png 480w, https://example.com/posts/846f01f3/keyboard_hu2f8781e41254bb5be0b5b653687b2689_848884_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="265"
data-flex-basis="637px"
>&lt;/p>
&lt;p>可以看出，left Ctrl 键的值是 66,而 CapsLock 键的值是 37&lt;/p>
&lt;h3 id="查看键位对应的-v-scan-值">查看键位对应的 V-Scan 值&lt;/h3>
&lt;p>需要到V-Scan Code Table去查看。&lt;/p>
&lt;p>这里直接告诉大家： Left Ctrl 的值是 0x01d CapsLock 的值是 0x03a&lt;/p>
&lt;h3 id="添加配置文件">添加配置文件&lt;/h3>
&lt;p>在&lt;code>~/.vmware/config&lt;/code>（没有就新建一个）里添加如下配置：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">xkeymap.keycode.66 = 0x01d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">xkeymap.keycode.37 = 0x03a
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>至此，工作全部完成，vmware 里的虚拟机可以使用和 Host 一样的键位设置了。&lt;/p>
&lt;h3 id="踩过的大坑">踩过的大坑&lt;/h3>
&lt;p>这么简单的一个问题，官方文档有明确的说明了，为什么拖了好几年没解决呢？&lt;/p>
&lt;p>主要问题有两个：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>官方的文档里说，更改健位值的两行代码，加在虚拟机配置文件里(.vmx)或者&lt;code>~/.vmware/config&lt;/code>都可以，其实不对。这两行代码只能加在&lt;code>~/.vmware/config&lt;/code>，加在其他地方不起作用。这个坑是长期未解决此问题的主要原因。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>添加这两行配置后，必须重新启动系统，以便让修改生效。&lt;/p>
&lt;/li>
&lt;/ol></description></item><item><title>Kubuntu 22.04设置sddm使用HiDPI</title><link>https://example.com/posts/48990398/</link><pubDate>Sat, 16 Jul 2022 19:23:30 +0800</pubDate><guid>https://example.com/posts/48990398/</guid><description>&lt;p>作为kde默认的登录管理器，&lt;code>SDDM&lt;/code>居然不能在kde控制中心里设置HiDPI。&lt;/p>
&lt;p>一番搜索后，找到了下面的解决方法：&lt;/p>
&lt;p>新建一个文件 &lt;code>/etc/sddm.conf&lt;/code>,添加下面内容：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[X11]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ServerArguments=-nolisten tcp -dpi 144
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这里的144对应着150%的缩放,重启即可生效。&lt;/p></description></item><item><title>让tmux和vim支持TrueColor</title><link>https://example.com/posts/4d263cb0/</link><pubDate>Sat, 09 Jul 2022 09:23:45 +0800</pubDate><guid>https://example.com/posts/4d263cb0/</guid><description>&lt;blockquote>
&lt;p>&lt;code>TrueColor&lt;/code>就是24位的真彩色&lt;/p>
&lt;/blockquote>
&lt;p>软件版本：&lt;/p>
&lt;ul>
&lt;li>&lt;code>tmux&lt;/code>：3.2&lt;/li>
&lt;li>&lt;code>vim&lt;/code> ：8.2&lt;/li>
&lt;/ul>
&lt;h2 id="修改终端的类型">修改终端的类型&lt;/h2>
&lt;blockquote>
&lt;p>终端的类型可以用 &lt;code>echo $TERM&lt;/code>来确认。&lt;/p>
&lt;/blockquote>
&lt;p>默认情况下，&lt;code>linux&lt;/code>系统的shell用的终端类型是 &lt;code>xterm&lt;/code>，&lt;code>tmux&lt;/code>用的终端类型是 &lt;code>screen-256color&lt;/code>。&lt;/p>
&lt;p>我们需要全部修改成 &lt;code>xterm-256color&lt;/code>才能使&lt;code>TrueColor&lt;/code>生效。&lt;/p>
&lt;blockquote>
&lt;p>&lt;code>secreen-256&lt;/code>最大的缺点是不支持斜体字。&lt;/p>
&lt;/blockquote>
&lt;h3 id="修改系统shell的终端类型">修改系统shell的终端类型&lt;/h3>
&lt;p>假设用的是 &lt;code>zsh&lt;/code>，则修改 &lt;code>.zshrc&lt;/code>，在最后添加一行：&lt;/p>
&lt;p>&lt;code>export TERM=&amp;quot;xterm-256color&amp;quot;&lt;/code>&lt;/p>
&lt;p>然后 &lt;code>source .zshrc&lt;/code>生效。&lt;/p>
&lt;h3 id="修改tmux的终端类型">修改&lt;code>tmux&lt;/code>的终端类型&lt;/h3>
&lt;p>打开&lt;code>tmux&lt;/code>的配置文件 &lt;code>~/.tmux.conf&lt;/code>&lt;/p>
&lt;p>添加下面两行：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># 设置 tmux 的终端为xterm-256color
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">set -g default-terminal &amp;#34;xterm-256color&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 开启 tmux 的终端的ture color支持
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">set-option -ga terminal-overrides &amp;#34;,xterm-256color:Tc&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="vim支持truecolor设置">vim支持TrueColor设置&lt;/h2>
&lt;p>在&lt;code>~/.vimrc&lt;/code>里添加下面一行&lt;/p>
&lt;p>&lt;code>set termguicolors &amp;quot; 开启ture color,无需再设置set t_Co=256&lt;/code>&lt;/p>
&lt;p>这样就可以了。&lt;/p>
&lt;h2 id="truecolor设置生效">TrueColor设置生效&lt;/h2>
&lt;p>以上修改操作做完后，需要&lt;/p>
&lt;ol>
&lt;li>退全部的&lt;code>tmux&lt;/code>的&lt;code>session&lt;/code>&lt;/li>
&lt;li>断开远程连接，重新登录&lt;/li>
&lt;/ol>
&lt;p>这样才能生效。&lt;/p>
&lt;p>下面是在&lt;code>tmux&lt;/code>里使用&lt;code>vim&lt;/code>的截图，&lt;code>vim&lt;/code>主题使用的是&lt;code>gruvbox&lt;/code>:&lt;/p>
&lt;p>&lt;img src="https://example.com/posts/4d263cb0/tmux&amp;#43;vim.png"
width="1049"
height="1235"
srcset="https://example.com/posts/4d263cb0/tmux&amp;#43;vim_hubdd1da61e67c101a3864bf527c968bab_195378_480x0_resize_box_3.png 480w, https://example.com/posts/4d263cb0/tmux&amp;#43;vim_hubdd1da61e67c101a3864bf527c968bab_195378_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="84"
data-flex-basis="203px"
>&lt;/p></description></item><item><title>Xshell确实好用</title><link>https://example.com/posts/e2c210ef/</link><pubDate>Fri, 08 Jul 2022 09:23:15 +0800</pubDate><guid>https://example.com/posts/e2c210ef/</guid><description>&lt;p>最近在学习C语言编程，准备采用下面方法：&lt;/p>
&lt;ul>
&lt;li>windows 10的主机，装一台 kubuntu 22.04的虚拟机&lt;/li>
&lt;li>windows下使用远程工具连接到虚拟机。&lt;/li>
&lt;li>使用 &lt;code>vim&lt;/code>来编辑和编译。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>据说这是大厂常用的工作流程&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;p>远程连接工具其实没有太多的选择，常用的也就三个：&lt;code>Xshell&lt;/code>、&lt;code>SecureCRT&lt;/code>、&lt;code>MobaXterm&lt;/code>。&lt;/p>
&lt;p>这三个我都用过，总是因为某些原因从一个换到另一个，具体什么原因自己都忘了。这次在远程连接到虚拟机上配置vim的时候，才发现了Xshell的强大和方便之处。难怪有那么多人推荐Xshell。&lt;/p>
&lt;p>三款终端使用的版本号如下：Xshell 7、MobaXterm 22.1、SecureCRT 8.5 &amp;amp; 9.2&lt;/p>
&lt;h2 id="一truecolor的支持">一、TrueColor的支持&lt;/h2>
&lt;p>所谓的 &lt;code>TrueColor&lt;/code>，也就是24位真彩色，这个色彩在物理显示器上，也就是2000年初的水平。&lt;/p>
&lt;p>但是在终端上，多年流行的都是 &lt;code>xterm 256&lt;/code>的颜色，直到最近几年才有终端开始支持。&lt;/p>
&lt;blockquote>
&lt;p>其实xterm 256也够用了&lt;/p>
&lt;/blockquote>
&lt;p>对于 &lt;code>TrueColor&lt;/code>的支持情况，三款终端如下：&lt;/p>
&lt;ul>
&lt;li>&lt;code>MobaXterm&lt;/code>：支持&lt;/li>
&lt;li>&lt;code>SecureCRT&lt;/code>：8.7版本之后支持&lt;/li>
&lt;li>&lt;code>Xshell &lt;/code>：支持&lt;/li>
&lt;/ul>
&lt;h3 id="一打开xshell-7的truecolor支持">（一）打开Xshell 7的TrueColor支持&lt;/h3>
&lt;p>工具&amp;mdash;&amp;gt;选项&amp;mdash;&amp;gt;高级&amp;mdash;&amp;gt;终端&amp;mdash;&amp;gt;选中&amp;quot;使用本色”，就可以了。如下图：&lt;/p>
&lt;p>&lt;img src="https://example.com/posts/e2c210ef/1657249415865.png"
width="802"
height="712"
srcset="https://example.com/posts/e2c210ef/1657249415865_hu18af70f362c4b36a4fff5deb2ef2fbdf_101167_480x0_resize_box_3.png 480w, https://example.com/posts/e2c210ef/1657249415865_hu18af70f362c4b36a4fff5deb2ef2fbdf_101167_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="1657249415865"
class="gallery-image"
data-flex-grow="112"
data-flex-basis="270px"
>&lt;/p>
&lt;p>&lt;img src="https://example.com/posts/e2c210ef/1657249460673.png"
width="763"
height="963"
srcset="https://example.com/posts/e2c210ef/1657249460673_huc51f21d06335d996786670daeaf3850f_71018_480x0_resize_box_3.png 480w, https://example.com/posts/e2c210ef/1657249460673_huc51f21d06335d996786670daeaf3850f_71018_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="1657249460673"
class="gallery-image"
data-flex-grow="79"
data-flex-basis="190px"
>&lt;/p>
&lt;h2 id="二斜体的显示支持">二、斜体的显示支持&lt;/h2>
&lt;p>我使用的 &lt;code>vim&lt;/code>主题叫 &lt;code>gruvbox&lt;/code>，这个主题可以打开斜体显示功能。默认情况下注释内容会用斜体显示。&lt;/p>
&lt;p>同样的.&lt;code>vimrc&lt;/code>配置文件，在 &lt;code>SecureCRT&lt;/code>和 &lt;code>MobaXterm&lt;/code>里，都没有办法打开斜体显示，而 &lt;code>Xshell&lt;/code>显示正常：&lt;/p>
&lt;p>&lt;img src="https://example.com/posts/e2c210ef/1657250828885.png"
width="953"
height="1249"
srcset="https://example.com/posts/e2c210ef/1657250828885_huf113a1615b01b8e7f90cfa831e823a93_158128_480x0_resize_box_3.png 480w, https://example.com/posts/e2c210ef/1657250828885_huf113a1615b01b8e7f90cfa831e823a93_158128_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="1657250828885"
class="gallery-image"
data-flex-grow="76"
data-flex-basis="183px"
>三、Zmodem支持&lt;/p>
&lt;p>&lt;code>Zmodem&lt;/code>，简单来说就是可以使用 &lt;code>sz&lt;/code>、&lt;code>rz&lt;/code>命令从远程主机和本地主机之间传输文件。&lt;/p>
&lt;p>&lt;code>Xshell&lt;/code>和 &lt;code>SecureCRT&lt;/code>默认支持，&lt;code>MobaXterm&lt;/code>需要安装插件才支持。&lt;/p>
&lt;blockquote>
&lt;p>其实 &lt;code>Xshell&lt;/code>有 &lt;code>xftp&lt;/code>，&lt;code>SecureCRT&lt;/code>有 &lt;code>SecureFX&lt;/code>，&lt;code>MobaXterm&lt;/code>在连到远程主机时也会自动打开一个sftp传输窗口，都可以替代 &lt;code>Zmodem&lt;/code>的功能。&lt;/p>
&lt;p>但是有 &lt;code>Zmodem&lt;/code>支持总是好的，可以很方便的传输一些配置文件。&lt;/p>
&lt;/blockquote>
&lt;h2 id="四多主机同时运行相同命令">四、多主机同时运行相同命令&lt;/h2>
&lt;p>这个功能在做运维的时候，同时管理多台主机很有用。&lt;/p>
&lt;p>&lt;code>Xshell&lt;/code>按下 &lt;code>ALT+e&lt;/code>,就可以把命令同时在所有打开并连接的远程主机中执行了。&lt;/p>
&lt;p>&lt;code>SecureCRT&lt;/code>有也类似的功能，但是不如 &lt;code>Xshell&lt;/code>方便。&lt;/p>
&lt;p>&lt;code>MobaXterm&lt;/code>没有试过。&lt;/p>
&lt;h2 id="五总结">五、总结&lt;/h2>
&lt;p>网上有这么多人推荐 &lt;code>Xshell&lt;/code>，不是没有原因。&lt;/p>
&lt;p>很多功能，在你没用到之前，会觉得所有远程终端都一样。&lt;/p>
&lt;p>很多想要功能，在没踩过坑前，不会知道它有没有实现。&lt;/p>
&lt;p>目前为止，&lt;code>Xshell&lt;/code>是最满足我需要的一个远程终端程序了。&lt;/p>
&lt;p>如果没有特殊原因，以后不会再换了。&lt;/p></description></item><item><title>罗技M720鼠标使用感受</title><link>https://example.com/posts/cf80e189/</link><pubDate>Sun, 19 Jun 2022 17:32:43 +0800</pubDate><guid>https://example.com/posts/cf80e189/</guid><description>&lt;p>前段时间玩黑苹果的时候，买了一块罗技的&lt;code>MX KEYS&lt;/code>的键盘。不得不说，这块键盘是真的好用，&lt;code>windows&lt;/code>和&lt;code>Mac&lt;/code>双系统兼容，手感超级好，比我的IKBC的红轴机械键盘用起来都要舒服。&lt;/p>
&lt;p>因为这块键盘使用的是优联技术，因此想着再买一个同样使用优联技术的鼠标，这样可以鼠标键盘使用一个接收器就好了。&lt;/p>
&lt;p>因此趁着618，京东157入手了一个罗技M720鼠标。&lt;/p>
&lt;p>买回来之后才发现，还是太想当然了。&lt;/p>
&lt;p>M720这个鼠标有几个问题：&lt;/p>
&lt;ul>
&lt;li>重量沉。现在用的是罗技G304，重量非常合适。M720太沉了&lt;/li>
&lt;li>太小了。宽度还可以，长度不够。用起来后掌心的位置感觉是悬空的。&lt;/li>
&lt;li>无法和键盘使用同一个优联接收器。买这个鼠标最主要的目的就是省一个优联接收器。结果发现键盘和鼠标还是只能使用各自优联接收器。&lt;/li>
&lt;li>有异响。晃了一下，有明显的声音，感觉有东西没固定住一样。&lt;/li>
&lt;/ul>
&lt;p>因为以上问题，这个M720退货了。&lt;/p>
&lt;p>还是罗技的G304适合我，重量、大小、手感都非常合适。&lt;/p></description></item><item><title>Hugo使用正确的自动更新时间</title><link>https://example.com/posts/bfaf5ee9/</link><pubDate>Sun, 29 May 2022 16:21:41 +0800</pubDate><guid>https://example.com/posts/bfaf5ee9/</guid><description>&lt;p>最近发现,文章最后的&lt;strong>更新于&lt;/strong>时间和文章创建的时间是一致的,这就毫无意义了,于是开始着手解决。&lt;/p>
&lt;p>没想到的是，这是个大工程。&lt;/p>
&lt;p>中间涉及的环节太多，有点复杂。目前的成果是使用文档修改的时间做为更新时间。&lt;/p>
&lt;p>经过测试，文档修改时间还是不行，目前尚不清楚是为什么&lt;/p></description></item><item><title>解决Hugo网站使用LoveIt主题后图片刷新不出来的问题</title><link>https://example.com/posts/da4fb9f9/</link><pubDate>Sat, 28 May 2022 11:19:35 +0800</pubDate><guid>https://example.com/posts/da4fb9f9/</guid><description>&lt;p>hugo博客部署在github page上。&lt;/p>
&lt;p>最近几天发现，博客的文章和disqus评论都是正常的，唯独涉及图片的部分，一直显示Loading加载不出来。&lt;/p>
&lt;p>一番查找后，发现锅在LoveIt主题上，确切的说，是在LoveIt主题使用的cdn&amp;ndash;&lt;code>https://cdn.jsdelivr.net&lt;/code>上。&lt;/p>
&lt;h2 id="问题的根源">问题的根源&lt;/h2>
&lt;p>LoveIt主题使用的图片加载技术叫&lt;code>lazysizes&lt;/code> ，它的官方解释说明是这样的：&lt;/p>
&lt;ul>
&lt;li>基于&lt;code>lazysizes&lt;/code>自动转换图片为懒加载&lt;/li>
&lt;/ul>
&lt;p>我的理解是，&lt;code>lazysizes&lt;/code>可以自动把图片压缩成设置好的大小，并且按需加载。这样就能够加快网页的打开速度了。&lt;/p>
&lt;p>&lt;code>lazysizes&lt;/code>依赖的核心js是&lt;code> lazysizes.min.js&lt;/code>。&lt;/p>
&lt;p>而&lt;code> lazysizes.min.js&lt;/code>存放于&lt;code>https://cdn.jsdelivr.net&lt;/code>上。如果&lt;code>https://cdn.jsdelivr.net&lt;/code>出现访问问题，图片自然也就加载不出来。&lt;/p>
&lt;p>公共CDN属于基础网络设施，全球有大量的项目依赖于它，一般不会出现问题。&lt;/p>
&lt;p>很不幸的是，这次恰恰就是&lt;code>https://cdn.jsdelivr.net&lt;/code>出现了问题，而且好像只有在中国大陆出现了问题。&lt;/p>
&lt;blockquote>
&lt;p>更进一步，是只有移动、电信的网络出现了问题，联通访问还是正常的（我为什么会知道？因为我有电信、联通、移动三网的环境:stuck_out_tongue:）。&lt;/p>
&lt;/blockquote>
&lt;p>这就是此次Hugo网站加载不出来图片的根本原因。&lt;/p>
&lt;h2 id="解决方法">解决方法&lt;/h2>
&lt;p>知道问题根源了,解决方法也很简单&amp;ndash;换一个cdn就可以了。&lt;/p>
&lt;p>最简单的方法是：&lt;/p>
&lt;p>还是使用&lt;code>jsdelivr.net&lt;/code>的cdn，但是换一个域名，目前&lt;code>gcore.jsdelivr.net&lt;/code>这个域名是可以使用的。&lt;/p>
&lt;p>具体步骤：&lt;/p>
&lt;p>编辑文件&lt;/p>
&lt;p>&lt;code>themes\LoveIt\assets\data\cdn\jsdelivr.yml&lt;/code>&lt;/p>
&lt;p>修改第二行,原来是:&lt;/p>
&lt;p>&lt;code>libFiles: https://cdn.jsdelivr.net/npm/&lt;/code>&lt;/p>
&lt;p>修改为:&lt;/p>
&lt;p>&lt;code>libFiles: https://gcore.jsdelivr.net/npm/&lt;/code>&lt;/p>
&lt;p>问题解决。&lt;/p></description></item><item><title>我的跨平台笔记方案-坚果云+Joplin</title><link>https://example.com/posts/3e939557/</link><pubDate>Sat, 28 May 2022 07:56:24 +0800</pubDate><guid>https://example.com/posts/3e939557/</guid><description>&lt;blockquote>
&lt;p>笔记软件有很多,优秀的也不少。想找一个符合自己要求的跨平台笔记方案，难点在于&lt;strong>跨平台&lt;/strong>这三个字，更确切的说是能够兼顾&lt;strong>Linux&lt;/strong>平台。&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;p>历经一番波折，期间换来换去，最终找到了坚果云+Joplin这个终极跨平台笔记解决方案。&lt;/p>
&lt;h2 id="坚果云">坚果云&lt;/h2>
&lt;p>坚果云可以说是所有网盘中对Linux的支持最优秀的了。&lt;/p>
&lt;p>坚果云的Linux客户端拥有和windows、Mac下客户端完全一致的功能。&lt;/p>
&lt;p>和Drobox相比，坚果云没有用户数的限制，只有流量限制。这个限制就很聪明，用来同步一些小文件完全够用，将来需要大空间了再花钱，也不贵。&lt;/p>
&lt;h2 id="joplin">Joplin&lt;/h2>
&lt;p>Joplin是开源笔记软件的后起之秀，最大的优势是笔记可完全个人拥有。&lt;/p>
&lt;p>和一些商业公司锁格式、锁导出等恶心行为相比，Joplin完全是笔记软件的清流，这也是为什么我喜欢开源软件。&lt;/p>
&lt;p>Joplin的功能非常完备，支持图片、视频、表格、Markdown、代码、网页捕捉等，满足记笔记的一且需求。&lt;/p>
&lt;h2 id="整合方案">整合方案&lt;/h2>
&lt;p>简单来说，就是坚果云开启WebDAV，然后把Joplin的笔记同步到坚果云的WebDAV里。&lt;/p>
&lt;p>因为坚果云和Joplin都是全平台的，所有也就达成了跨平台体验一致的记笔记解决方案。&lt;/p>
&lt;h2 id="问题和解决">问题和解决&lt;/h2>
&lt;h3 id="kde下坚果云登录界面太小的问题">KDE下坚果云登录界面太小的问题&lt;/h3>
&lt;p>主要体现在登录界面太小，以至于无法显示登录框的问题。&lt;/p>
&lt;p>解决方法：&lt;/p>
&lt;p>1、右键点击登录界面的标题栏&amp;ndash;更多操作&amp;ndash;配置特殊窗口设置&lt;/p>
&lt;p>&lt;img src="https://example.com/posts/3e939557/kde-nutstore1.png"
width="999"
height="528"
srcset="https://example.com/posts/3e939557/kde-nutstore1_hu5fff8e59cbfba3aefb42e6159106cbe1_117019_480x0_resize_box_3.png 480w, https://example.com/posts/3e939557/kde-nutstore1_hu5fff8e59cbfba3aefb42e6159106cbe1_117019_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="189"
data-flex-basis="454px"
>&lt;/p>
&lt;p>2、点击左下角 &lt;code>添加属性&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://example.com/posts/3e939557/kde-nutstore2.png"
width="987"
height="789"
srcset="https://example.com/posts/3e939557/kde-nutstore2_hue0d71c15ff3a21df899895ccccd192de_99030_480x0_resize_box_3.png 480w, https://example.com/posts/3e939557/kde-nutstore2_hue0d71c15ff3a21df899895ccccd192de_99030_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="125"
data-flex-basis="300px"
>&lt;/p>
&lt;p>3、在弹出的 &lt;code>添加属性到规则&lt;/code>中，选择 &lt;code>最小尺寸&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://example.com/posts/3e939557/kde-nutsotre3.png"
width="984"
height="786"
srcset="https://example.com/posts/3e939557/kde-nutsotre3_huaa21450fd8da6d9b26d24c17f2421f05_114500_480x0_resize_box_3.png 480w, https://example.com/posts/3e939557/kde-nutsotre3_huaa21450fd8da6d9b26d24c17f2421f05_114500_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="125"
data-flex-basis="300px"
>&lt;/p>
&lt;p>4、选择强制，然后设置想要的大小，建设设置500以上，我这里是1008x1061&lt;/p>
&lt;p>&lt;img src="https://example.com/posts/3e939557/kde-nutsotre4.png"
width="989"
height="782"
srcset="https://example.com/posts/3e939557/kde-nutsotre4_hu921d5a5fce7e8f8de2e827c33e279d8b_96682_480x0_resize_box_3.png 480w, https://example.com/posts/3e939557/kde-nutsotre4_hu921d5a5fce7e8f8de2e827c33e279d8b_96682_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="126"
data-flex-basis="303px"
>&lt;/p>
&lt;h3 id="joplin同步到坚果云的正确方法">Joplin同步到坚果云的正确方法&lt;/h3>
&lt;p>默认的话，Joplin通过WebDAV同步到坚果云会报错，大体意思是 &lt;code>太多的连接&lt;/code>这个错误。&lt;/p>
&lt;p>解决方法：&lt;/p>
&lt;p>首先在坚果云里新建一个个人同步文件夹，命名为“Joplin&amp;quot;，然后在软件设置的webdav地址里填入：&lt;/p>
&lt;p>&lt;code>https://dav.jianguoyun.com/dav/Joplin&lt;/code>&lt;/p>
&lt;p>其他照旧就可以了。&lt;/p></description></item><item><title>解决键盘上的Windows快捷键失灵的问题</title><link>https://example.com/posts/c0dac05c/</link><pubDate>Wed, 09 Mar 2022 17:30:08 +0800</pubDate><guid>https://example.com/posts/c0dac05c/</guid><description>&lt;p>键盘型号是IKBC W210无线机械键盘。&lt;/p>
&lt;h2 id="问题">问题&lt;/h2>
&lt;p>最近两天,忽然发现键盘上的Windows快捷键不起作用了。&lt;/p>
&lt;p>Windows 10最让我满意的地方就是它的快捷键了，而这些快捷键大部分是以Win开头的。&lt;/p>
&lt;p>没有了快捷键，Windows 10仿佛失去了灵魂。&lt;/p>
&lt;h2 id="解决过程">解决过程&lt;/h2>
&lt;p>一开始以为是Windows 10的三月更新引起的。网上搜索了一下，没有发现反映相关问题的。&lt;/p>
&lt;p>于是以“Windows键盘不起作用”为关键字搜索，最终在短乎上一篇反映阿米洛机械键盘的帖子上找到了答案：&lt;/p>
&lt;h2 id="解决方法">解决方法&lt;/h2>
&lt;p>其实是我不小心把Windows快捷键给禁用了，附上解决方法&lt;/p>
&lt;p>锁定方法 ：fn + 左win&lt;/p>
&lt;p>解锁方法： fn + 右win&lt;/p>
&lt;p>尽管是针对阿米洛机械键盘的，但是对IKBC W210同样起作用。&lt;/p></description></item><item><title>使用Hugo搭建个人网站(六) 编辑文章和管理网站</title><link>https://example.com/posts/fd472e0d/</link><pubDate>Wed, 12 Jan 2022 06:44:50 +0800</pubDate><guid>https://example.com/posts/fd472e0d/</guid><description>&lt;p>&lt;code>Hugo&lt;/code>的本质就是把 &lt;code>.md&lt;/code>格式的文章通过一套引擎渲染成 &lt;code>.html&lt;/code>页面。&lt;/p>
&lt;p>因为这个过程是全自动化的，所以编辑网站文章就是编辑本地的 &lt;code>.md&lt;/code>文章。&lt;/p>
&lt;p>&lt;code>Visual Studio Code&lt;/code>(简称 &lt;code>vscode&lt;/code>)，集成了Git以及编辑markdown的插件，同时也有Hugo相关的插件，成为了我认为最适合编辑和管理Hugo网站的编辑器。&lt;/p>
&lt;h2 id="vscode">VSCode&lt;/h2>
&lt;h3 id="插件">插件&lt;/h3>
&lt;ul>
&lt;li>Markdown All in One 此插件主要提供了新建/提升/降级标题的等级的快捷键.&lt;/li>
&lt;li>Markdown Shotcuts 此插件主要是提供了粗体、斜体、行内代码、代码块的快捷键。&lt;/li>
&lt;li>Markdown Paste 此插件主要是提供了直接向 &lt;code>md&lt;/code>文章里贴图的功能.&lt;/li>
&lt;li>Hugofy(荒野無燈版) 此插件主要是提供了新建文章时直接使用&lt;a class="link" href="https://dnwzlx.com/posts/b085eb84/" target="_blank" rel="noopener"
>Hugo Page Bundles&lt;/a>的方式.&lt;/li>
&lt;/ul>
&lt;p>有了以上四个插件,编辑Hugo网站直接起飞。&lt;/p>
&lt;h3 id="workspace">workspace&lt;/h3>
&lt;p>&lt;code>vscode&lt;/code>有个功能是 &lt;code>workspace&lt;/code>。它的最大的作用是为不同的环境启用或者禁用不同的插件。&lt;/p>
&lt;p>在某个目录下添加一个名为 &lt;code>workspace.code-workspace&lt;/code>的文件，就可以把整个目录当成一个工作区。&lt;/p>
&lt;p>而且这个 &lt;code>workspace.code-workspace&lt;/code>文件是自动创建的。&lt;/p>
&lt;p>&lt;img src="https://example.com/posts/fd472e0d/workspace.png"
width="426"
height="467"
srcset="https://example.com/posts/fd472e0d/workspace_hu2e4f0e5bbb78de66fe45d9f435becdd2_47083_480x0_resize_box_3.png 480w, https://example.com/posts/fd472e0d/workspace_hu2e4f0e5bbb78de66fe45d9f435becdd2_47083_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="91"
data-flex-basis="218px"
>&lt;/p>
&lt;h3 id="git上传">Git上传&lt;/h3>
&lt;p>当有文件变更时：&lt;/p>
&lt;ol>
&lt;li>点击左侧的Git图标&lt;/li>
&lt;li>点击+号&lt;/li>
&lt;li>在输入框里输入commit的内容&lt;/li>
&lt;li>点击同步&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://example.com/posts/fd472e0d/vscode-git.png"
width="604"
height="293"
srcset="https://example.com/posts/fd472e0d/vscode-git_hue89e28e4c314eef993b33ba0c93356e7_50446_480x0_resize_box_3.png 480w, https://example.com/posts/fd472e0d/vscode-git_hue89e28e4c314eef993b33ba0c93356e7_50446_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="206"
data-flex-basis="494px"
>&lt;/p>
&lt;h2 id="onedrive">OneDrive&lt;/h2>
&lt;p>算是一个技巧吧。&lt;/p>
&lt;p>把Hugo的本地网站放在 &lt;code>OneDrive&lt;/code>里同步，&lt;/p>
&lt;ul>
&lt;li>Github之外，又多了一份备份&lt;/li>
&lt;li>省去了在不同电脑间编辑时，&lt;code>git pull&lt;/code>等git的同步操作。&lt;/li>
&lt;/ul>
&lt;p>通过上面这些设置，可以在 &lt;code>vscode&lt;/code>里进行Hugo编辑、管理、上传的全部操作，而且步骤简单。&lt;/p>
&lt;p>让我们把精力全部放在网站内容上。&lt;/p></description></item><item><title>使用Hugo搭建个人网站(五) 使用Page Bundles组织网站内容</title><link>https://example.com/posts/b085eb84/</link><pubDate>Tue, 11 Jan 2022 05:59:14 +0800</pubDate><guid>https://example.com/posts/b085eb84/</guid><description>&lt;p>什么是&lt;code>Page Bundles&lt;/code>呢,官方网站的解释在&lt;a class="link" href="https://gohugo.io/content-management/page-bundles/" target="_blank" rel="noopener"
>这里&lt;/a>&lt;/p>
&lt;p>简单来说,一般的Hugo网站,每篇文章是一个以文章名称命令的&lt;code>.md&lt;/code>格式的文档，保存在&lt;code>content/posts&lt;/code>目录下，文章中所有的资源-图片、视频、PDF等附件，都保存在根目录的&lt;code>static&lt;/code>目录里。&lt;/p>
&lt;p>这种做法的缺点是，所有文章的附件都在一个目录里，管理上非常混乱，分不清哪个图片或者附件是属于哪篇文章的。而且在本地预览时，因为图片链接格式的原因，还会遇到无法正常显示图片的问题。&lt;/p>
&lt;p>而&lt;code>Page Bundles&lt;/code>则解决了这些问题：&lt;/p>
&lt;ol>
&lt;li>新建文章时，会在&lt;code>content/posts&lt;/code>目录下创建一个以文章名命令的目录，目录下的&lt;code>index.md&lt;/code>才是文章的本体。&lt;/li>
&lt;li>文章所有涉及的附件，都保存在&lt;code>index.md&lt;/code>的同级目录下。&lt;/li>
&lt;/ol>
&lt;p>看下图&lt;/p>
&lt;p>&lt;img src="https://example.com/posts/b085eb84/orgazination.png"
width="508"
height="688"
srcset="https://example.com/posts/b085eb84/orgazination_hu43554d536c54dbb73623489c002dc47e_93025_480x0_resize_box_3.png 480w, https://example.com/posts/b085eb84/orgazination_hu43554d536c54dbb73623489c002dc47e_93025_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="73"
data-flex-basis="177px"
>&lt;/p>
&lt;p>如果使用vscode管理编辑Hugo网站，还有插件能很简单的实现&lt;code>Page Bundles&lt;/code>的组织形式。下篇再讲。&lt;/p>
&lt;p>在这里推荐&lt;code>Page Bundles&lt;/code>的网站组织形式，会使网站的文章和附件管理非常的有组织性。&lt;/p></description></item><item><title>LInux下使用交换分区文件替代交换分区</title><link>https://example.com/posts/9503817d/</link><pubDate>Sat, 08 Jan 2022 07:44:41 +0800</pubDate><guid>https://example.com/posts/9503817d/</guid><description>&lt;p>根据所使用的磁盘格式不同，分两种设置方法：&lt;/p>
&lt;ul>
&lt;li>非btrfs分区&lt;/li>
&lt;li>btrfs分区&lt;/li>
&lt;/ul>
&lt;h2 id="非btrfs分区">非btrfs分区&lt;/h2>
&lt;h3 id="增加交换分区文件">增加交换分区文件&lt;/h3>
&lt;p>依次执行下面的命令，来新建启用交换分区&lt;/p>
&lt;p>新建交换分区文件，大小为 8G：（bs*count=文件大小）&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo dd if=/dev/zero of=/swapfile bs=1M count=8192
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>格式化交换分区文件：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo mkswap /swapfile
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>修正&lt;code>/swapfile&lt;/code>的文件权限&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo chmod 0600 /swapfile
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>启用交换分区文件：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo swapon /swapfile
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="启用交换分区文件">启用交换分区文件&lt;/h3>
&lt;p>开机自动挂载:&lt;/p>
&lt;p>编辑&lt;code>/etc/fstab&lt;/code>文件&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo vi /etc/fstab
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>添加下面内容:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/swapfile swap swap defaults 0 0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>验证是否有交换分区&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">free -m
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="移除交换分区文件">移除交换分区文件&lt;/h3>
&lt;p>执行下面的命令：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo swapoff /swapfile &amp;amp;&amp;amp; sudo rm /swapfile
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="btrfs分区">btrfs分区&lt;/h2>
&lt;h3 id="使用root账户">使用root账户&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo -i
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="依次执行下面的命令">依次执行下面的命令&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># truncate -s 0 /swapfile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># chattr +C /swapfile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># fallocate -l 4G /swapfile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># chmod 0600 /swapfile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># mkswap /swapfile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># swapon /swapfile
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="挂载到fstab">挂载到fstab&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/swapfile none swap defaults 0 0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>如何使用windows的资源管理器打开FTP</title><link>https://example.com/posts/1de5cb42/</link><pubDate>Fri, 07 Jan 2022 14:37:25 +0800</pubDate><guid>https://example.com/posts/1de5cb42/</guid><description>&lt;p>我是习惯用专用的FTP软件来连接FTP,比如&lt;code>FlashFXP&lt;/code>等,&lt;/p>
&lt;p>但是也有人喜欢用windows资源管理器连接FTP服务器，且不用老输入用户名、密码&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>。&lt;/p>
&lt;p>最简单的实现方法如下：&lt;/p>
&lt;p>在桌面右键－新建－快捷方式－在对象位置框中输入&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">explorer.exe ftp://user:pass@host/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后下一步，随便输入一个名称，完成即可。&lt;/p>
&lt;p>&lt;strong>注&lt;/strong>：以上&lt;code>user&lt;/code>为FTP用户名，&lt;code>pass&lt;/code>为FTP密码，&lt;code>host&lt;/code>为FTP服务器地址。&lt;/p>
&lt;p>这样建立的快捷方式是用资源管理器打开（直接填地址会当成internet快捷方式用浏览器打开），且自动登录，并可修改快捷方式图标。&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>学自&lt;a class="link" href="http://shuai.be/archives/ftp-in-explorer/" target="_blank" rel="noopener"
>这篇文章&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Linux主目录下的文件名改成英文</title><link>https://example.com/posts/bc511af0/</link><pubDate>Fri, 07 Jan 2022 07:24:41 +0800</pubDate><guid>https://example.com/posts/bc511af0/</guid><description>&lt;p>之所以要改成英文名称,是为了在终端下操作方便。&lt;/p>
&lt;p>一、打开终端，在终端中输入命令:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">LANG&lt;/span>&lt;span class="o">=&lt;/span>en_US
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">xdg-user-dirs-gtk-update
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>跳出对话框询问是否将目录转化为英文路径,同意并关闭。&lt;/p>
&lt;p>二、在终端中输入命令:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">LANG&lt;/span>&lt;span class="o">=&lt;/span>zh_CN
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>重新启动系统，系统会提示更新文件名称，选择不再提示,并取消修改。&lt;/p></description></item><item><title>使用Hugo搭建个人网站(四)-使用Github Action自动部署到Github Pages</title><link>https://example.com/posts/95a48970/</link><pubDate>Thu, 06 Jan 2022 11:10:10 +0800</pubDate><guid>https://example.com/posts/95a48970/</guid><description>&lt;p>部署网站到Github上使用的是&lt;code>Github Page&lt;/code>功能。&lt;/p>
&lt;p>一般来说，部署Hugo网站到&lt;code>Github Page&lt;/code>的流程是这样的：&lt;/p>
&lt;ol>
&lt;li>新建一个&lt;code>Github Page&lt;/code>的repo&lt;/li>
&lt;li>把网站源码部署到repo的一个分支，比如&lt;code>source&lt;/code>&lt;/li>
&lt;li>把网站的public文件部署到repo的&lt;code>master&lt;/code>分支&lt;/li>
&lt;/ol>
&lt;p>这种方法能同时备份网站源码和网站，但也有不足之处:&lt;/p>
&lt;ol>
&lt;li>网站源码和生成的网站都处于公共分支,任何人都能查看&lt;/li>
&lt;li>每次更新网站,得同时更新网站源码和生成网站,比较繁琐&lt;/li>
&lt;/ol>
&lt;p>因此,本文介绍如何使用&lt;code>Github Action&lt;/code>,解决上面的两个不足之处。&lt;/p>
&lt;h2 id="基本思路">基本思路&lt;/h2>
&lt;ol>
&lt;li>新建一个private repo（私人仓库）,用于保存网站源码&lt;/li>
&lt;li>设置&lt;code>Github Action&lt;/code>,每当private repo有提交时，就自动监测源码的变化、自动生成网站且自动发布到&lt;code>Github Page&lt;/code>上。&lt;/li>
&lt;/ol>
&lt;p>这样，每次只需把网站源码提交到private repo就可以了，剩下的所有工作由&lt;code>Github Action&lt;/code>来自动完成。&lt;/p>
&lt;h2 id="github-action设置">Github Action设置&lt;/h2>
&lt;h3 id="生成personal-access-tokens">生成Personal access tokens&lt;/h3>
&lt;p>由于源码是保存在私人仓库的，这里需要使用&lt;code>Personal access tokens&lt;/code>来具备改写别的repo的权限。&lt;/p>
&lt;p>点击头像下拉菜单-&lt;code>Settings&lt;/code>-&lt;code>Developer Settings&lt;/code>-&lt;code>Personal access tokens&lt;/code>。&lt;/p>
&lt;p>点击右侧的&lt;code>generate new token&lt;/code>
&lt;img src="https://example.com/posts/95a48970/%E7%94%9F%E6%88%90newtoken1.png"
width="1654"
height="605"
srcset="https://example.com/posts/95a48970/%E7%94%9F%E6%88%90newtoken1_hu941aff02339b4ebcea0ec0443c72b9cc_77671_480x0_resize_box_3.png 480w, https://example.com/posts/95a48970/%E7%94%9F%E6%88%90newtoken1_hu941aff02339b4ebcea0ec0443c72b9cc_77671_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="273"
data-flex-basis="656px"
>
名字随便填,比如&lt;code>ACTION_ACCESS_TOKEN&lt;/code>&lt;/p>
&lt;p>下方&lt;code>repo&lt;/code>的所有选项全部选上:&lt;br>
&lt;img src="https://example.com/posts/95a48970/repo.png"
width="894"
height="373"
srcset="https://example.com/posts/95a48970/repo_hub5b0bda9134eecc1fe1e6f635e7f7e97_57278_480x0_resize_box_3.png 480w, https://example.com/posts/95a48970/repo_hub5b0bda9134eecc1fe1e6f635e7f7e97_57278_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="239"
data-flex-basis="575px"
>&lt;/p>
&lt;p>还有admin:repo_hook,全部选上:&lt;br>
&lt;img src="https://example.com/posts/95a48970/admin_repo_hook.png"
width="797"
height="142"
srcset="https://example.com/posts/95a48970/admin_repo_hook_hu4d949bd7a1c43850ce13586b46bafb97_20201_480x0_resize_box_3.png 480w, https://example.com/posts/95a48970/admin_repo_hook_hu4d949bd7a1c43850ce13586b46bafb97_20201_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="561"
data-flex-basis="1347px"
>&lt;br>
生成的&lt;code>token&lt;/code>保存好备用&lt;/p>
&lt;h2 id="私人仓库设置">私人仓库设置&lt;/h2>
&lt;p>新建一个私人仓库,名字随意&lt;br>
&lt;img src="https://example.com/posts/95a48970/newprivaterepo.png"
width="1154"
height="1048"
srcset="https://example.com/posts/95a48970/newprivaterepo_hu2b3947c4ead053e90b8a1f7188fc2423_120593_480x0_resize_box_3.png 480w, https://example.com/posts/95a48970/newprivaterepo_hu2b3947c4ead053e90b8a1f7188fc2423_120593_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="110"
data-flex-basis="264px"
>&lt;br>
在此repo上，&lt;code>Settings&lt;/code>-&lt;code>Secrets&lt;/code>-&lt;code>New repository secret&lt;/code>
&lt;img src="https://example.com/posts/95a48970/privaterepoaddtoken.png"
width="1841"
height="1130"
srcset="https://example.com/posts/95a48970/privaterepoaddtoken_hufd4580fc50e98fe076fd47d19569e369_113028_480x0_resize_box_3.png 480w, https://example.com/posts/95a48970/privaterepoaddtoken_hufd4580fc50e98fe076fd47d19569e369_113028_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="162"
data-flex-basis="391px"
>&lt;br>
把刚才申请的&lt;code>Personal access tokens&lt;/code>填写上。
&lt;code>Name&lt;/code>必须和刚才申请&lt;code>Personal access tokens&lt;/code>时填写的一致，比如&lt;code>ACTION_ACCESS_TOKEN&lt;/code>&lt;br>
&lt;img src="https://example.com/posts/95a48970/newtoken.png"
width="802"
height="800"
srcset="https://example.com/posts/95a48970/newtoken_hu8a16ab8eae3cf1e222e408bdc69e64a8_24669_480x0_resize_box_3.png 480w, https://example.com/posts/95a48970/newtoken_hu8a16ab8eae3cf1e222e408bdc69e64a8_24669_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="100"
data-flex-basis="240px"
>&lt;/p>
&lt;h2 id="网站设置">网站设置&lt;/h2>
&lt;p>在网站根目录里新建两个文件夹&lt;code>.github/workflows&lt;/code>。&lt;/p>
&lt;p>在&lt;code>workflows&lt;/code>里新建一个后缀为&lt;code>.yml&lt;/code>的文件，比如&lt;code>hugodeploy.yml&lt;/code>(文件名自己随便取)。&lt;/p>
&lt;p>&lt;code>hugodeploy.yml&lt;/code>的内容如下:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">HugoDeploy &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">push&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">branches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">master &lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 这里的意思是当 master分支发生push的时候，运行下面的jobs&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">TZ&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Asia/Shanghai&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 设置当前环境时区&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">deploy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 任务名自取&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-20.04&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 在什么环境运行任务&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Checkout&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v3&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 引用actions/checkout这个action，与所在的github仓库同名&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">submodules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Fetch Hugo themes (true OR recursive) 获取submodule主题&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fetch-depth&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Fetch all history for .GitInfo and .Lastmod&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Disable quotePath&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">git config --global core.quotePath false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Setup Hugo&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 步骤名自取&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">peaceiris/actions-hugo@v2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># hugo官方提供的action，用于在任务环境中获取hugo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hugo-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;0.99.1&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 获取最新版本的hugo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">extended&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Cache resources&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 缓存 resource 文件加快生成速度&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/cache@v3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">resources&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># 检查照片文件变化&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">key&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ runner.os }}-hugocache-${{ hashFiles(&amp;#39;content/**/*&amp;#39;) }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restore-keys&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ runner.os }}-hugocache-&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Build&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">hugo --minify&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 使用hugo构建静态网页&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deploy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">peaceiris/actions-gh-pages@v3&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 一个自动发布github pages的action&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># github_token: ${{ secrets.GITHUB_TOKEN }} 该项适用于发布到源码相同repo的情况，不能用于发布到其他repo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">external_repository&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">yourname/yourname.github.io&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 发布到哪个repo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">personal_token&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.ACTION_ACCESS_TOKEN }}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 发布到其他repo需要提供上面生成的personal access token&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">publish_dir&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">./public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 注意这里指的是要发布哪个文件夹的内容，而不是指发布到目的仓库的什么位置，因为hugo默认生成静态网页到public文件夹，所以这里发布public文件夹里的内容&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">publish_branch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">master&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 发布到哪个branch&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>需要改动的是:&lt;/p>
&lt;p>&lt;code>external_repository&lt;/code>: 填写自己的Github Page仓库地址&lt;/p>
&lt;h2 id="部署到github">部署到Github&lt;/h2>
&lt;p>网站根目录下,执行下面命令，部署到远程私人仓库&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git remote add origin https://github.com/your_private_repo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git add .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit -m &amp;#34;Initial&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push -u origin master
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>注意&lt;/strong>：&lt;code>git commit&lt;/code>后面的&lt;code>&amp;quot;Initial&amp;quot;&lt;/code>就是单次执行&lt;code>Github Action&lt;/code>的任务名称。&lt;/p>
&lt;h2 id="查看运行情况">查看运行情况&lt;/h2>
&lt;p>到私有仓库，点击&lt;code>Actions&lt;/code>，查看&lt;code>Github Action&lt;/code>的运行情况。
&lt;img src="https://example.com/posts/95a48970/githubactionstatus.png"
width="1432"
height="532"
srcset="https://example.com/posts/95a48970/githubactionstatus_hu1d4703f5b7aceffd02c295736663b001_61506_480x0_resize_box_3.png 480w, https://example.com/posts/95a48970/githubactionstatus_hu1d4703f5b7aceffd02c295736663b001_61506_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="269"
data-flex-basis="646px"
>&lt;/p>
&lt;p>一切正常的话，在你的&lt;code>Github Page&lt;/code>仓库里就能看到生成的网站了。&lt;/p></description></item><item><title>使用Hugo搭建个人网站(三)-LoveIt主题启用网站图标</title><link>https://example.com/posts/b8cc834e/</link><pubDate>Wed, 05 Jan 2022 18:07:38 +0800</pubDate><guid>https://example.com/posts/b8cc834e/</guid><description>&lt;p>网站图标&lt;code>favicon&lt;/code>,虽然对于网站不是必须的，但是有这个东西能显著增加网站的正规性和美观性。&lt;/p>
&lt;h2 id="生成favicon">生成favicon&lt;/h2>
&lt;p>1、打开&lt;a class="link" href="https://realfavicongenerator.net/" target="_blank" rel="noopener"
>realfavicongenerator&lt;/a>,点击右上角&lt;code>Select your Favicon image&lt;/code>链接。
&lt;img src="https://example.com/posts/b8cc834e/clicklink1.png"
width="992"
height="504"
srcset="https://example.com/posts/b8cc834e/clicklink1_hu9d1a6e0b570176a2b2aa9adabd9f9e29_107314_480x0_resize_box_3.png 480w, https://example.com/posts/b8cc834e/clicklink1_hu9d1a6e0b570176a2b2aa9adabd9f9e29_107314_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="196"
data-flex-basis="472px"
>&lt;br>
这时会打开对话框，让你选择一张图片，等待完成即可。&lt;/p>
&lt;p>2、完成后，会出现下载链接，点击下载即可。
&lt;img src="https://example.com/posts/b8cc834e/download1.png"
width="975"
height="483"
srcset="https://example.com/posts/b8cc834e/download1_hu52d8e90aabca1b5a7da4f832306d25ac_213382_480x0_resize_box_3.png 480w, https://example.com/posts/b8cc834e/download1_hu52d8e90aabca1b5a7da4f832306d25ac_213382_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="201"
data-flex-basis="484px"
>&lt;/p>
&lt;h2 id="启用favicon">启用favicon&lt;/h2>
&lt;p>把下载的文件，全部解压到网站根目录的&lt;code>static&lt;/code>中。&lt;/p>
&lt;p>因为LoveIt主题自带了对realfavicongenerator生成的favicon格式支持，所以不用再做其它设置，直接就生效。&lt;/p></description></item><item><title>使用Hugo搭建个人网站(二)-LoveIt主题自定义搜索</title><link>https://example.com/posts/98850c88/</link><pubDate>Wed, 05 Jan 2022 10:51:44 +0800</pubDate><guid>https://example.com/posts/98850c88/</guid><description>&lt;p>LoveIt主题自带的搜索插件是lunr和algolia，这两个都不太好用。&lt;/p>
&lt;p>在此，我们使用Hugo专用的搜索插件&lt;a class="link" href="https://github.com/kaushalmodi/hugo-search-fuse-js" target="_blank" rel="noopener"
>hugo-search-fuse-js&lt;/a>来替代LoveIt主题自带的搜索。&lt;/p>
&lt;h2 id="安装hugo-search-fuse-js">安装hugo-search-fuse-js&lt;/h2>
&lt;p>1、网站根目录下，使用下面命令来安装：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git submodule add https://github.com/kaushalmodi/hugo-search-fuse-js themes/hugo-search-fuse-js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>2、把&lt;code>hugo-search-fuse-js&lt;/code>添加到站点配置文件&lt;code>config.toml&lt;/code>里，如下所示：&lt;/p>
&lt;p>&lt;code>theme = [&amp;quot;hugo-search-fuse-js&amp;quot;, &amp;quot;LoveIt&amp;quot;]&lt;/code>&lt;/p>
&lt;p>hugo-search-fuse-js要在最前面，后面跟着的是主题的名字。&lt;/p>
&lt;p>3、新建一个&lt;code>content/search.md&lt;/code>文件&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">hugo new search.md
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>内容如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">+++
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">title = &amp;#34;Search&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">layout = &amp;#34;search&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">outputs = [&amp;#34;html&amp;#34;, &amp;#34;json&amp;#34;]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[sitemap]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> priority = 0.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+++
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>4、修改页面模板文件&lt;code>baseof.html&lt;/code>
把主题目录下的\themes\LoveIt\layouts_default\baseof.html拷贝到站点根目录下的&lt;code>layouts\_default\baseof.html&lt;/code>。&lt;/p>
&lt;p>在拷贝后的&lt;code>baseof.html&lt;/code>里插入两段代码：&lt;code>{{ block &amp;quot;main&amp;quot; . }}{{ end }}&lt;/code>和&lt;code>{{ block &amp;quot;footer&amp;quot; . }}{{ end }}&lt;/code>&lt;/p>
&lt;p>如下所示：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;lt;div class=&amp;#34;wrapper&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{- partial &amp;#34;header.html&amp;#34; . -}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;main class=&amp;#34;main&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;div class=&amp;#34;container&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ block &amp;#34;main&amp;#34; . }}{{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{- block &amp;#34;content&amp;#34; . }}{{ end -}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/div&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/main&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{- partial &amp;#34;footer.html&amp;#34; . -}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ block &amp;#34;footer&amp;#34; . }}{{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/div&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="添加搜索按钮">添加搜索按钮&lt;/h2>
&lt;p>在站点配置文件里添加一个新的按钮给搜索功能使用，如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> [[languages.zh-cn.menu.main]]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> identifier = &amp;#34;search&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> pre = &amp;#34;&amp;lt;i class=&amp;#39;fas fa-fw fa-search&amp;#39;&amp;gt;&amp;lt;/i&amp;gt;&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> name = &amp;#34;搜索&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> url = &amp;#34;/search/&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> weight = 6
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="关闭loveit主题默认的搜索插件">关闭LoveIt主题默认的搜索插件&lt;/h2>
&lt;p>在站点配置文件里把默认的搜索插件关闭，如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[params]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> [params.app]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> [params.search]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> enable = false
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="修改搜索页面的样式">修改搜索页面的样式&lt;/h2>
&lt;p>如果对该插件生成的搜索页面样式不满意，可以自行修改。&lt;/p>
&lt;p>在网站&lt;code>assets\css\_custom.scss&lt;/code>文件里添加下面内容：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/* 搜索页面 */
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.search {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> position: relative;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> padding-top: 3.5rem;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> padding-bottom: 1rem;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> width: 57.5%;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> margin: 0 auto;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> background: white;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> opacity: .95;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[theme=dark] .search {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> background: #3a3535;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[theme=dark] .search header,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.search header {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> background-color: #f8f8f8;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[theme=dark] .search header:hover,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.search header:hover {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -webkit-box-shadow: none;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> box-shadow: none;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.search header h1 {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> padding-left: 1rem;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> background: white;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[theme=dark] .search header h1 {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> background: #3a3535;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[theme=dark] .search input,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.search input {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> height: initial;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> width: initial;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> color: initial;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> background-color: white;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> margin: 0 0 0 1rem;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> border-width: 2px;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> border-style: inset;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> border-color: initial;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> border-image: initial;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -webkit-border-radius: 0;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -moz-border-radius: 0;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> border-radius: 0;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.search #search-results {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> padding-left: 1rem;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> padding-right: 1rem;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[theme=dark] a:active, [theme=dark] a:hover {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> color: #2d96bd;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.search hr {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> margin-left: 1rem;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> margin-right: 1rem;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="优化中文搜索效果">优化中文搜索效果&lt;/h2>
&lt;p>这个搜索功能借助了Fuse.js模糊搜索引擎，针对中文搜索需要做一些优化。&lt;/p>
&lt;p>编辑&lt;code>themes\hugo-search-fuse-js\static\js\search.js&lt;/code>，下面的示例已经添加了部分中文注释：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">// Options for fuse.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">let fuseOptions = {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> shouldSort: true, // 是否按分数对结果列表排序
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> includeMatches: true, // 是否应将分数包含在结果集中。0分表示完全匹配，1分表示完全不匹配。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> tokenize: true,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> matchAllTokens: true,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> threshold: 0.2, // 匹配算法阈值。阈值为0.0需要完全匹配（字母和位置），阈值为1.0将匹配任何内容。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location: 0, // 确定文本中预期找到的模式的大致位置。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> /**
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * 确定匹配与模糊位置（由位置指定）的距离。一个精确的字母匹配，即距离模糊位置很远的字符将被视为完全不匹配。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * 距离为0要求匹配位于指定的准确位置，距离为100则要求完全匹配位于使用阈值0.2找到的位置的20个字符以内。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> */
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> distance: 100,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> maxPatternLength: 64, // 模式的最大长度
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> minMatchCharLength: 2, // 模式的最小字符长度
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> keys: [
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {name:&amp;#34;title&amp;#34;,weight:0.8},
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {name:&amp;#34;tags&amp;#34;,weight:0.5},
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {name:&amp;#34;categories&amp;#34;,weight:0.5},
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {name:&amp;#34;contents&amp;#34;,weight:0.4}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这里和中文搜索有关的主要就3个选项：&lt;/p>
&lt;ol>
&lt;li>threshold&lt;/li>
&lt;li>location&lt;/li>
&lt;li>distance&lt;/li>
&lt;/ol>
&lt;p>threshold是阈值，这个参数搭配distance使用。如果阈值填了0.0，相当于distance没有意义。&lt;/p>
&lt;p>location填0就行，distance填100就足够了，太大了会导致搜索到过多的结果。&lt;/p>
&lt;p>最张参数如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> threshold: 0.2,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location: 0,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> distance: 100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>可以根据个人情况来修改这几个参数的值。&lt;/p></description></item><item><title>关于本站</title><link>https://example.com/about/</link><pubDate>Wed, 05 Jan 2022 08:38:05 +0800</pubDate><guid>https://example.com/about/</guid><description>&lt;p>记录一些和生活、兴趣、研究等相关的东西。&lt;/p>
&lt;h2 id="2023年1月14日--添加和更新功能">2023年1月14日 添加和更新功能&lt;/h2>
&lt;ul>
&lt;li>升级github action到v3版本&lt;/li>
&lt;li>现在能够正确显示最后更新时间了&lt;/li>
&lt;li>在主页和文章的顶部显示文章的最后更新时间&lt;/li>
&lt;/ul>
&lt;h2 id="2022年12月15日--升级loveit主题">2022年12月15日 升级LoveIt主题&lt;/h2>
&lt;p>看了下LoveIt主题，发现最后一次提交也是5个月前。&lt;/p>
&lt;p>说明LoveIt主题已经很稳定，于是把博客的LoveIt主题升级到了最新版。&lt;/p>
&lt;h2 id="2022年1月7日--建站">2022年1月7日 建站&lt;/h2>
&lt;p>网站的各项功能都调整到满意的程度，正式进入实用阶段。&lt;/p>
&lt;p>搜索功能没有比较好的，感觉也用不到，暂时不折腾了。&lt;/p></description></item><item><title>使用Hugo搭建个人网站(一)-基本设置和LoveIt主题</title><link>https://example.com/posts/bf651441/</link><pubDate>Tue, 04 Jan 2022 17:27:10 +0800</pubDate><guid>https://example.com/posts/bf651441/</guid><description>&lt;blockquote>
&lt;p>本文使用的软件的版本如下：&lt;/p>
&lt;p>hugo: 0.91.2-extended&lt;/p>
&lt;p>loveit主题: 0.2.10&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>特别注意&lt;/strong>:hugo必须使用&lt;strong>extended&lt;/strong>版本&lt;/p>
&lt;p>关于Hugo的安装和网站的生成，本文不再详述,网上教程一大堆。&lt;/p>
&lt;p>本文主要介绍在安装过程中遇到一些问题及解决方法。&lt;/p>
&lt;h2 id="设置自定义css文件">设置自定义CSS文件&lt;/h2>
&lt;p>生成网站后,需要在网站根目录下创建一个自定义的文件：&lt;code>assets\css\_custom.scss&lt;/code>。&lt;/p>
&lt;p>以后一些主题没提供的页面，所需要的css都保存在这个文件里，最典型的就是自定义搜索的页面。&lt;/p>
&lt;h2 id="安装loveit主题">安装LoveIt主题&lt;/h2>
&lt;p>我喜欢用&lt;a class="link" href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener"
>LoveIt&lt;/a>主题，安装方式有：&lt;/p>
&lt;ol>
&lt;li>去官网下载zip文件，解压到&lt;code>themes&lt;/code>目录下&lt;/li>
&lt;li>用&lt;code>git clone&lt;/code>的方式&lt;/li>
&lt;li>用&lt;code>git submodule&lt;/code>的方法&lt;/li>
&lt;/ol>
&lt;p>在这里采用&lt;code>git submodule&lt;/code>的方法。&lt;/p>
&lt;p>进入网站根目录后，运行命令：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git init
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git submodule add https://github.com/dillonzq/LoveIt themes/LoveIt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="修改configtoml">修改config.toml&lt;/h2>
&lt;p>&lt;code>config.toml&lt;/code>是整个网站的配置文件，位于网站的根目录下。&lt;/p>
&lt;p>生成网站后，自带的&lt;code>config.toml&lt;/code>太简单了，基本没啥用,我们需要用LoveIt主题目录下的&lt;code>config.toml&lt;/code>来替代。&lt;/p>
&lt;p>把网站根目录下的&lt;code>themes\LoveIt\exampleSite\config.toml&lt;/code>文件，拷贝到网站的根目录下。&lt;/p>
&lt;p>网站首次运行前，需要对&lt;code>config.toml&lt;/code>进行一些修改，确保首次运行网站时不会报错。&lt;/p>
&lt;p>&lt;strong>错误1&lt;/strong>：关于module&lt;/p>
&lt;p>&lt;strong>现象&lt;/strong>: &lt;code>Error: module &amp;quot;LoveIt&amp;quot; not found; either add it as a Hugo Module or store it in xxx&lt;/code>&lt;/p>
&lt;p>&lt;strong>原因&lt;/strong>：&lt;code>config.toml&lt;/code>的第10行设置了主题路径。&lt;/p>
&lt;p>&lt;strong>解决&lt;/strong>: 把第10行注释掉就可以了。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># 主题目录
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#themesDir = &amp;#34;../..&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>错误2&lt;/strong>：关于git&lt;/p>
&lt;p>&lt;strong>现象&lt;/strong>:在运行&lt;code>hugo server&lt;/code>的时候，有和git有关的错误提示&lt;/p>
&lt;p>&lt;strong>原因&lt;/strong>：这是因为在&lt;code>config.toml&lt;/code>中，启用了&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># 是否使用 git 信息
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">enableGitInfo = true
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>解决&lt;/strong>：两种方法：&lt;/p>
&lt;ol>
&lt;li>在网站根目录下运行&lt;code>git init&lt;/code>。&lt;/li>
&lt;li>把&lt;code>enableGitInfo&lt;/code>属性改成&lt;code>false&lt;/code>:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># 是否使用 git 信息
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">enableGitInfo = false
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="新建页面">新建页面&lt;/h2>
&lt;p>有一些页面需要自己创建,比如说网站常见的&lt;code>关于&lt;/code>(about)页面。&lt;/p>
&lt;p>方法很简单，运行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">hugo new about.md
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>生成的文件存放于&lt;code>conten/posts&lt;/code>下。&lt;/p>
&lt;h2 id="新建文章">新建文章&lt;/h2>
&lt;p>使用下面命令:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">hugo new posts/my-first-post.md
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这样就创建了一篇名字为&lt;code>my-first-post&lt;/code>的文章，存放在网站根目录的&lt;code>content\posts&lt;/code>下。&lt;br>
这种新建文章的方式不推荐，有更好的方式，看这里。&lt;/p>
&lt;h2 id="本地预览">本地预览&lt;/h2>
&lt;p>运行命令：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">hugo server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在浏览器输入&lt;a class="link" href="http://localhost:1313" target="_blank" rel="noopener"
>http://localhost:1313&lt;/a>来预览。&lt;/p>
&lt;p>&lt;code>hugo serve&lt;/code>的默认运行环境是 &lt;code>development&lt;/code>, 由于本地 &lt;code>development&lt;/code> 环境的限制, 评论系统, CDN 和 fingerprint 不会在 &lt;code>development&lt;/code> 环境下启用。
如果想开启这些特性，使用下面的命令来开启：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">hugo serve -e production
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>至此，一个基本的Hugo网站就搭建起来了。&lt;/p></description></item><item><title>归档</title><link>https://example.com/archives/</link><pubDate>Tue, 28 May 2019 00:00:00 +0000</pubDate><guid>https://example.com/archives/</guid><description/></item><item><title>关于</title><link>https://example.com/%E5%85%B3%E4%BA%8E/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://example.com/%E5%85%B3%E4%BA%8E/</guid><description>&lt;p>This is a test page for i18n support.&lt;/p></description></item><item><title>链接</title><link>https://example.com/%E9%93%BE%E6%8E%A5/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://example.com/%E9%93%BE%E6%8E%A5/</guid><description>&lt;p>To use this feature, add &lt;code>links&lt;/code> section to frontmatter.&lt;/p>
&lt;p>This page&amp;rsquo;s frontmatter:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">links&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">GitHub&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">GitHub is the world&amp;#39;s largest software development platform.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">website&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://github.com&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TypeScript&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TypeScript is a typed superset of JavaScript that compiles to plain JavaScript.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">website&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://www.typescriptlang.org&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ts-logo-128.jpg&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>image&lt;/code> field accepts both local and external images.&lt;/p></description></item><item><title>搜索</title><link>https://example.com/search/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://example.com/search/</guid><description/></item></channel></rss>